{"version":3,"sources":["img/skill.svg","img/plus.svg","img/book.svg","img/settings.svg","auth.js","pages/Write.js","pages/Journal.js","img/pen.svg","pages/Skills.js","pages/Settings.js","hooks/useSkills.js","hooks/useJournal.js","pages/SharedWithMe.js","hooks/useSharing.js","App.js","hooks/useSettings.js","hooks/useAuth.js","index.js"],"names":["poolDetails","authDetails","Pool","AmazonCognitoIdentity","UserPoolId","ClientId","cognitoUser","accessToken","refreshToken","login","Username","Promise","resolve","reject","ClientMetadata","phoneNumber","console","log","e","getCurrentUser","retrieveAccessToken","getSession","session","getAccessToken","getJwtToken","RefreshToken","getRefreshToken","getToken","signOut","a","register","attributePhoneNumber","Name","Value","customAttributeId","id","attributeList","signUp","err","result","user","customFlow","cb","onCodeSent","setAuthenticationFlowType","initiateAuth","onSuccess","r","onFailure","customChallenge","challengeParameters","answer","sendCustomChallengeAnswer","entries","get","fetch","method","headers","Headers","body","JSON","stringify","skills","shares","months","days","printDate","d","Date","getDay","getMonth","getDate","getTime","getHours","getMinutes","slice","Write","display","freeze","settings","createEntry","getSetting","useState","start","setStart","qaRef","useRef","ffRef","complete","unfreeze","end","entryType","questions","Array","from","current","querySelectorAll","map","el","innerText","answers","freeform","style","ref","className","contentEditable","onClick","EntryHeader","date","isOpen","open","close","count","EntryContents","entry","q","i","Journal","isNotMain","setOpen","index","meta","indexOf","filter","list","length","Skills","submitSkill","mode","setMode","catRef","sklRef","onSubmitSkill","category","value","skill","defaultValue","padding","height","alignItems","justifyContent","src","Pen","width","attributions","ShareJourunal","shareJournal","numRef","nameRef","swnRef","phone","name","shareWithName","share","addSetting","textDecoration","placeholder","type","SharedByMe","sharedByMe","toggleSetting","toggleFreeze","onToggle","alert","Setting","title","shareWith","setting","SharedWithMe","sharedWithMe","redirect","frozen","Settings","swStatus","install","logout","toggle","Object","keys","k","dangerouslySetInnerHTML","__html","findIndex","indexedArr","key","found","push","dateShortHand","_d","getFullYear","toString","shareId","getShareById","journal","setJournal","useEffect","sanitizePhoneNumber","number","replaceAll","titles","pending","parse","localStorage","getItem","App","setSkills","getSkills","api","req","json","data","indexed","reduce","acc","val","skls","post","action","setItem","useSkills","setEntries","getEntries","arr","assign","sort","b","dict","dsh","splice","useJournal","sharing","setSharedWithMe","setSharedByMe","getShares","getById","updated","sbm","useSharing","onSessionActive","storedSettings","setSettings","initial","useSettings","setUser","setErr","retrieveSession","window","location","reload","init","refreshSession","_register","useAuth","actions","forEach","handlePending","initialPage","URLSearchParams","search","page","setPage","url","split","nextPage","history","pushState","previous","next","prompt","setPrompt","codeRef","v","setAnswer","promptForCode","_answer","codeSent","setCodeSent","onAuthError","setAuthError","onRegisterClick","raw","onLogInClick","loadingAnimation","setLoadingAnimation","alt","NavSkills","NavPlus","NavBook","NavSettings","message","disabled","autoComplete","warn","error","navigator","serviceWorker","scope","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5165563a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/skill.23054f65.svg\";","export default __webpack_public_path__ + \"static/media/plus.a86e5868.svg\";","export default __webpack_public_path__ + \"static/media/book.65cd22a3.svg\";","export default __webpack_public_path__ + \"static/media/settings.d2739024.svg\";","import {v4 as id} from 'uuid';\nimport * as AmazonCognitoIdentity from 'amazon-cognito-identity-js';\n\nconst poolDetails = {\n  AppClientId: '2ac3ij97dhtkag9fljdsuo1203',\n  IdentityPool:\t'us-east-1:de5287fc-3a2d-4cad-a685-b9d5bfe936e6',\n  PoolArm: 'arn:aws:cognito-idp:us-east-1:842200175734:userpool/us-east-1_tRcA2uwF6',\n  PoolId:\t'us-east-1_tRcA2uwF6'\n}\n\nlet authDetails = null;\nlet Pool = new AmazonCognitoIdentity.CognitoUserPool ({UserPoolId: poolDetails.PoolId, ClientId: poolDetails.AppClientId});\nlet cognitoUser = null;\nlet accessToken = null;\nlet refreshToken = null;\n\nexport const login = (Username) => new Promise ((resolve, reject) => {\n  try {\n    authDetails = new AmazonCognitoIdentity.AuthenticationDetails ({Username, ClientMetadata: {phoneNumber: Username}});\n    console.log (Username, Pool);\n    cognitoUser = new AmazonCognitoIdentity.CognitoUser ({Username, Pool});\n    resolve ();\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const getCurrentUser = () => new Promise ((resolve, reject) => {\n  try {\n    cognitoUser = Pool.getCurrentUser ();\n    resolve ();\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const retrieveAccessToken = () => new Promise ((resolve, reject) => {\n  try {\n    if (!cognitoUser) throw 'Cognito user must be defined to get access token';\n    cognitoUser.getSession ((e, session) => {\n      if (e) return reject (e);\n      accessToken = session.getAccessToken ().getJwtToken ();\n      refreshToken = new AmazonCognitoIdentity.CognitoRefreshToken ({RefreshToken: session.getRefreshToken ().getToken ()});\n      console.log ('access token retrieved');\n      resolve ();\n    });\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const refreshSession = () => new Promise ((resolve, reject) => {\n  try {\n    if (!cognitoUser) throw 'Cannot refresh empty cognito user';\n    if (!refreshToken) throw 'Cannot refresh empty refresh token';\n    cognitoUser.refreshSession (refreshToken, (err, session) => {\n      if (err) return reject (err);\n      accessToken = session.getAccessToken ().getJwtToken ();\n      refreshToken = new AmazonCognitoIdentity.CognitoRefreshToken ({RefreshToken: session.getRefreshToken ().getToken ()});\n      resolve ();\n    });\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const signOut = async () => new Promise (async (resolve, reject) => {\n  try {\n    await cognitoUser.signOut();\n    resolve ();\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const register = async (phoneNumber) => new Promise (async (resolve, reject) => {\n  const attributePhoneNumber = new AmazonCognitoIdentity.CognitoUserAttribute ({Name: 'phone_number', Value: phoneNumber});\n  const customAttributeId = new AmazonCognitoIdentity.CognitoUserAttribute ({Name: 'custom:custom:id', Value: id ()})\n  const attributeList = [attributePhoneNumber, customAttributeId];\n  Pool.signUp (phoneNumber, id (), attributeList, null, (err, result) => {\n    if (err) return reject (err);\n    cognitoUser = result.user;\n    resolve ();\n  })\n});\n\nexport const customFlow = (phoneNumber, cb, onCodeSent) => new Promise (async (resolve, reject) => {\n  await login (phoneNumber);\n  cognitoUser.setAuthenticationFlowType ('CUSTOM_CHALLENGE');\n  console.log (cognitoUser, authDetails);\n  cognitoUser.initiateAuth (authDetails, {\n    onSuccess: r => resolve (r),\n    onFailure: e => reject (e),\n    customChallenge: function (challengeParameters) {\n      onCodeSent ();\n      cb (answer => cognitoUser.sendCustomChallengeAnswer (answer, this))\n    }\n  });\n});\n\nexport const entries = {\n  get get () {\n    return () => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/entries', {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get post () {\n    return body => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/entries', {\n      method: 'post',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken,\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify (body)\n    });\n  }\n}\nexport const skills = {\n  get get () {\n    return () => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/skills', {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get post () {\n    return body => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/skills', {\n      method: 'post',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken,\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify (body)\n    });\n  }\n}\n\nexport const shares = {\n  get get () {\n    return () => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/shares', {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get getById () {\n    return id => fetch (`https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/entries/${id}`, {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get post () {\n    return body => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/shares', {\n      method: 'post',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken,\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify (body)\n    });\n  },\n  get toggleFreeze () {\n    return id => fetch (`https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/shares/${id}`, {\n      method: 'put',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  }\n}","import { useRef, useState } from \"react\"\nimport { entries } from '../auth'\nimport useSettings from \"../hooks/useSettings\"\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\nconst days = [\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n]\nconst printDate = (d=new Date ()) => {\n  return  `${days [d.getDay ()]}, ${months [d.getMonth ()]} ${d.getDate ()}`\n}\nconst getTime = (d=new Date ()) => {  \n  return `${(d.getHours () % 12 || 12)}:${`0${d.getMinutes ()}`.slice(-2)} ${d.getHours () > 11 ? 'pm' : 'am'}`;\n}\n\nfunction Write ({display, freeze, settings, createEntry}) {\n  const {getSetting} = settings;\n  const [start, setStart] = useState (new Date ());\n  const qaRef = useRef ();\n  const ffRef = useRef ();\n  const complete = async () => {\n    let unfreeze = freeze ();\n    let body = {start, end: new Date (), entryType: getSetting ('freeform') ? 'freeform' : 'questions'};\n    try {\n      if (body.entryType === 'questions') {\n        body.questions = Array.from (qaRef.current.querySelectorAll ('b')).map (el => el.innerText);\n        body.answers = Array.from (qaRef.current.querySelectorAll ('div')).map (el => el.innerText);\n      } else {\n        body.freeform = ffRef.current.innerText;\n      }\n      await createEntry (body);\n      setStart (new Date ());\n      if (body.entryType !== 'freeform') Array.from (qaRef.current.querySelectorAll ('div')).map (el => el.innerText = '...');\n      if (body.entryType === 'freeform') ffRef.current.innerText = 'Write your entry here!';\n      unfreeze ();\n    } catch (e) {\n      if (body.entryType !== 'freeform') Array.from (qaRef.current.querySelectorAll ('div')).map (el => el.innerText = '...');\n      if (body.entryType === 'freeform') ffRef.current.innerText = 'Write your entry here!';\n      unfreeze ();\n    }\n  }\n  return (\n    <main style={{display}}>\n      <h2>{printDate ()}</h2>\n      <h3>{getTime (start)}</h3>\n      {\n        !getSetting ('freeform') &&\n        <div ref={qaRef} className=\"questions\">\n          <b>What have I done today?</b>\n          <div contentEditable>...</div>\n          <b>How do I feel?</b>\n          <div contentEditable>...</div>\n          <b>What else am I going to do?</b>\n          <div contentEditable>...</div>\n        </div>\n      }\n      {\n        getSetting ('freeform') &&\n        <div contentEditable ref={ffRef}>Write your entry here!</div>\n      }\n      <button onClick={complete}>Complete</button>\n    </main>\n  )\n}\n\nexport default Write","import { useState } from 'react'\n\nconst getTime = (d=new Date ()) => {  \n  return `${(d.getHours () % 12 || 12)}:${`0${d.getMinutes ()}`.slice(-2)} ${d.getHours () > 11 ? 'pm' : 'am'}`;\n}\n\nconst EntryHeader = ({date, isOpen, open, close, count}) => {\n  return isOpen ? (\n    <header className=\"entry-header\">\n      <span onClick={close}>x</span>\n      <h2>{date}</h2>\n    </header>\n  ) : (\n    <header className=\"entry-header\">\n      <span onClick={open}>more</span>\n      <h2>{date}</h2>\n      <div className=\"pill\">\n        <span>{count}</span>\n      </div>\n    </header>\n  )\n}\n\nconst EntryContents = ({entries, open}) => entries.map (entry => {\n  return open ? (\n    <section key={`entry-${entry.id}`}>\n      <h3>{getTime (entry.start)}</h3>\n      {\n        entry.entryType !== 'freeform' &&\n        entry.questions.map ((q, i) => (\n          <section>\n            <p>\n              <b>{q} </b>\n              {entry.answers [i]}\n            </p>\n          </section>\n        ))\n      }\n      {\n        entry.entryType === 'freeform' &&\n        <section>\n          <p>{entry.freeform}</p>\n        </section>\n      }\n    </section>\n  ) : (<div></div>)\n})\n\n\nfunction Journal({display, entries, isNotMain}) {\n  const [open, setOpen] = useState ([]);\n\n  return isNotMain ?\n  (\n    <>\n      {entries.map (index => (\n        <article key={`index-${index.date}`}>\n          <EntryHeader date={index.meta.date} isOpen={open.indexOf (index.date) !== -1} open={() => {setOpen (open => [...open, index.date])}} close={() => {\n            setOpen (open => open.filter (d => d !== index.date))\n          }} index={index} />\n          <EntryContents open={open.indexOf (index.date) !== -1} entries={index.list} />\n        </article>\n      ))}\n    </>\n  )\n  :\n  (\n    <main style={{display}}>\n      {entries.map (index => (\n        <article key={`index-${index.date}`}>\n          <EntryHeader count={index.list.length} date={index.meta.date} isOpen={open.indexOf (index.date) !== -1} open={() => {setOpen (open => [...open, index.date])}} close={() => {\n            setOpen (open => open.filter (d => d !== index.date))\n          }} index={index} />\n          <EntryContents open={open.indexOf (index.date) !== -1} entries={index.list} />\n        </article>\n      ))}\n    </main>\n  )\n}\n\nexport default Journal\n","export default __webpack_public_path__ + \"static/media/pen.27ec406e.svg\";","import React, { useEffect, useRef, useState } from 'react'\nimport Pen from '../img/pen.svg'\n\nfunction Skills ({display, skills, submitSkill}) {\n  const [mode, setMode] = useState ('reference');\n  const catRef = useRef ();\n  const sklRef = useRef ();\n  const openEditor = () => {\n    setMode ('edit');\n  }\n  const onSubmitSkill = async () => {\n    try {\n      await submitSkill ({category: catRef.current.value, skill: sklRef.current.innerText})\n    } catch (e) {\n\n    }\n    setMode ('reference');\n  }\n  return (\n    <>\n      <datalist id=\"skills-categories\">\n        {\n          skills.map (category => (\n            <option>{category.meta.category}</option>\n          ))\n        }\n      </datalist>\n      <main style={{display: mode === 'edit' ? display : 'none'}}>\n        <h2>New Skill</h2>\n        <div>Category: <input list=\"skills-categories\" ref={catRef} defaultValue=\"Tools For\"/></div>\n        <div>Skill: <p style={{padding: 7.5}} ref={sklRef} contentEditable>...</p></div>\n        <div>\n          <button onClick={onSubmitSkill}>Add Skill</button>\n          <button onClick={()=>{setMode ('reference')}}>Cancel</button>\n        </div>\n      </main>\n      <main style={{display: mode === 'reference' ? display : 'none'}}>\n        <span onClick={openEditor} style={{height: 64, display: 'grid', alignItems: 'center',justifyContent: 'center'}}><img src={Pen} width={24} height={24}/></span>\n        {\n          skills.map (category => (\n            <section>\n              <h2>{category.meta.category}</h2>\n              <ul>\n                {\n                  category.list.map (skill => (\n                    <li>{skill.skill}</li>\n                  ))\n                }\n              </ul>\n            </section>\n          ))\n        }\n      </main>\n    </>\n  )\n}\n\nexport default Skills\n","import { useRef } from \"react\";\n\nconst attributions = {\n  'calendar.svg': '<div>Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>',\n  'pen.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/icongeek26\" title=\"Icongeek26\">Icongeek26</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'book.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/zlatko-najdenovski\" title=\"Zlatko Najdenovski\">Zlatko Najdenovski</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'plus.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'list.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/phatplus\" title=\"phatplus\">phatplus</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'skill.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'settings.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/srip\" title=\"srip\">srip</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>'\n}\n\nfunction ShareJourunal ({shareJournal, settings}) {\n  const numRef = useRef ();\n  const nameRef = useRef ();\n  const swnRef = useRef ();\n  const onClick = async () => {\n    let phone = numRef.current.value;\n    let name = nameRef.current.value;\n    let shareWithName = swnRef.current.value;\n    let share = await shareJournal (phone, name, shareWithName);\n    settings.addSetting (`share-${share.id}`, true);\n    numRef.current.value = '';\n    swnRef.current.value = '';\n  }\n  return (\n    <div className=\"action\">\n      <p style={{textDecoration: 'none'}}>Share Your Journal With</p>\n      <input ref={swnRef} placeholder=\"James Allen\" />\n      <input type=\"tel\" ref={numRef} placeholder=\"123-456-7890\" />\n      <p style={{textDecoration: 'none'}}>Your Name</p>\n      <input ref={nameRef} />\n      <br />\n      <span onClick={onClick}>Submit</span>\n    </div>\n  )\n}\n\nfunction SharedByMe ({freeze, sharedByMe, toggleSetting, getSetting, toggleFreeze}) {\n  const onToggle = (share) => () => async () => {\n    let unfreeze = freeze ();\n    try {\n      await toggleFreeze (share.id);\n      console.log ('toggling setting');\n      toggleSetting (`share-${share.id}`) ();\n      unfreeze ();\n    } catch (e) {\n      unfreeze ();\n      alert (e);\n    }\n  }\n  return (\n    <div>\n      <p style={{textDecoration: 'none'}}>Who You Share Your Journal With</p>\n      <hr style={{width: '25vw'}}/>\n      {\n        sharedByMe.length === 0 &&\n        <span style={{textDecoration: 'none'}}>You haven't shared your journal - no pressure</span>\n      }\n      {\n        sharedByMe.map (share => (\n          <Setting getSetting={getSetting} title={share.shareWithName || share.shareWith} setting={`share-${share.id}`} onToggle={onToggle (share)} />\n        ))\n      }\n    </div>\n  );\n}\n\nfunction SharedWithMe ({sharedWithMe, redirect}) {\n  let shares = sharedWithMe.filter (share => !share.frozen);\n  return (\n    <div className=\"action\">\n      <p style={{textDecoration: 'none'}}>Journals Shared With You</p>\n      <hr style={{width: '25vw'}}/>\n      {\n        shares.length === 0 &&\n        <span style={{textDecoration: 'none'}}>Nobody has shared a journal with you...</span>\n      }\n      {\n        shares.map (share => (\n          <span onClick={() => {redirect (`?page=sharing&id=${share.id}&name=${share.name}`)}}>{share.name}</span>\n        ))\n      }\n    </div>\n  )\n}\n\nfunction Setting ({setting, title, onToggle, getSetting}) {\n  return (\n    <div className=\"setting\">\n      <div>{title}</div>\n      <div><span onClick={onToggle (setting)} className={getSetting (setting) ? 'toggle on' : 'toggle'} /></div>\n    </div>\n  )\n}\n\nfunction Settings({freeze, settings, swStatus, install, display, logout, shareJournal, sharedWithMe, sharedByMe, toggleFreeze, redirect}) {\n  return (\n    <main className=\"settings\" style={{display}}>\n      <Setting setting=\"freeform\" title=\"Enable Freeform\" getSetting={settings.getSetting} onToggle={settings.toggle} />\n      {!swStatus && \n        <div className=\"action\">\n          <span onClick={install}>Install!</span>\n        </div>\n      }\n      <ShareJourunal settings={settings} shareJournal={shareJournal} />\n      <SharedWithMe settings={settings} sharedWithMe={sharedWithMe} redirect={redirect} />\n      <SharedByMe freeze={freeze} getSetting={settings.getSetting} toggleSetting={settings.toggle} sharedByMe={sharedByMe} toggleFreeze={toggleFreeze} />\n      <div className=\"action\">\n        <span onClick={logout}>Log Out</span>\n      </div>\n      <section id=\"attributions\">\n        <h2>Attributions</h2>\n        <ul>\n          {Object.keys (attributions).map (k => (\n            <li key={`attribiution-${k}`} dangerouslySetInnerHTML={{__html: attributions [k]}}></li>\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Settings\n","import {useState} from 'react';\nimport {skills as api} from '../auth';\n\nconst findIndex = (indexedArr, key, value, meta={}) => {\n  let found = indexedArr.filter (el => el [key] === value)\n  if (found.length > 0) return found [0].list;\n  let index = {[key]: value, meta, list: []};\n  indexedArr.push (index);\n  return index.list;\n}\n\nexport default function useSkills () {\n\n  const [skills, setSkills] = useState ([]);\n  const getSkills = async () => {\n    try {\n      let req = await api.get ();\n      let data = await req.json ();\n      let indexed = data.reduce ((acc, val) => {\n        findIndex (acc, 'category', val.category, {category: val.category}).push (val);\n        return acc;\n      }, []);\n      setSkills (indexed);\n    } catch (e) {\n      alert (e);\n    }\n  }\n  const submitSkill = (body) => new Promise (async (resolve, reject) => {\n    try {\n      setSkills (skls => {\n        let idx = findIndex (skls, 'category', body.category, {category: body.category});\n        idx.push (body);\n        return skls;\n      })\n      await api.post (body);\n      resolve ();\n    } catch (e) {\n      let pending = JSON.parse (localStorage.getItem ('pending-actions') || '[]');\n      pending.push ({\n        action: 'submit-skill',\n        body\n      });\n      localStorage.setItem ('pending-actions', JSON.stringify (pending));\n      reject (e);\n    }\n  })\n\n  return {skills, getSkills, submitSkill}\n\n}","import {useState} from 'react';\nimport {entries as api} from '../auth';\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\nconst days = [\n  \"Sunday\",\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n]\n\nconst dateShortHand = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return `${d.getMonth ()}-${d.getDate ()}-${d.getFullYear ()}`.toString ();\n}\nconst printDate = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return  `${days [d.getDay ()]}, ${months [d.getMonth ()]} ${d.getDate ()}`;\n}\n\nconst findIndex = (indexedArr=[], key, value, meta={}) => {\n  let found = indexedArr.filter (el => el [key] === value)\n  if (found.length > 0) return found [0].list;\n  let index = {[key]: value, meta, list: []};\n  indexedArr.push (index);\n  return index.list;\n}\n\nexport default function useJournal () {\n\n  const [entries, setEntries] = useState ([]);\n  const getEntries = async () => {\n    try {\n      let req = await api.get ();\n      let arr = await req.json ();\n      arr = arr.map (el => Object.assign (el, {start: new Date (el.start), end: new Date (el.end)}));\n      arr.sort ((a, b) => b.start - a.start);\n      let dict = arr.reduce ((acc, val) => {\n        findIndex (acc, 'date', dateShortHand (val.start), {date: printDate (val.start)}).push (val);\n        return acc;\n      }, []);\n      setEntries (dict);\n    } catch (e) {\n      alert (e);\n    }\n  }\n  const createEntry = async body => new Promise (async (resolve, reject) => {\n    try {\n      let dsh = dateShortHand (body.start);\n      if (entries [0].date === dsh) {\n        console.log ('adding entry at existing index');\n        entries [0].list.splice (0, 0, body);\n      } else {\n        console.log ('adding entry at new index');\n        entries.splice (0, 0, {'date': dsh, date: printDate (body.start), list: [body]});\n      }\n      console.log (entries);\n      setEntries (entries);\n      await api.post (body);\n      resolve ();\n    } catch (e) {\n      let pending = JSON.parse (localStorage.getItem ('pending-actions') || '[]');\n      pending.push ({\n        action: 'create-entry',\n        body\n      });\n      localStorage.setItem ('pending-actions', JSON.stringify (pending));\n      reject (e);\n    }\n  })\n\n  return {entries, getEntries, createEntry};\n\n}","import { useEffect, useState } from \"react\";\nimport Journal from \"./Journal\";\n\nfunction SharedWithMe ({shareId, name, display, getShareById}) {\n  const [journal, setJournal] = useState ([]);\n  useEffect (() => {\n    if (!shareId) return;\n    (async () => {\n      try {\n        setJournal (await getShareById (shareId));\n      } catch (e) {\n        alert (e);\n      }\n    }) ();\n  }, [shareId]);\n  return (\n    <>\n      <main style={{display}}>\n        <h2>Shared By {name}</h2>\n        <Journal isNotMain display={display} entries={journal} />\n      </main>\n    </>\n  )\n}\n\nexport default SharedWithMe ","import {useState} from 'react';\nimport {shares as api} from '../auth';\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\nconst days = [\n  \"Sunday\",\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n]\n\nconst dateShortHand = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return `${d.getMonth ()}-${d.getDate ()}-${d.getFullYear ()}`.toString ();\n}\nconst printDate = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return  `${days [d.getDay ()]}, ${months [d.getMonth ()]} ${d.getDate ()}`;\n}\n\nconst findIndex = (indexedArr=[], key, value, meta={}) => {\n  let found = indexedArr.filter (el => el [key] === value)\n  if (found.length > 0) return found [0].list;\n  let index = {[key]: value, meta, list: []};\n  indexedArr.push (index);\n  return index.list;\n}\n\nexport default function useSharing () {\n\n  const [sharedWithMe, setSharedWithMe] = useState ([]);\n  const [sharedByMe, setSharedByMe] = useState ([]);\n  const getShares = async () => {\n    try {\n      let req = await api.get ();\n      let dict = await req.json ();\n      setSharedByMe (dict.sharedByMe);\n      setSharedWithMe (dict.sharedWithMe);\n    } catch (e) {\n      alert (e);\n    }\n  }\n  const getShareById = async id => new Promise (async (resolve, reject) => {\n    try {\n      let req = await api.getById (id);\n      let arr = await req.json ();\n      arr = arr.map (el => Object.assign (el, {start: new Date (el.start), end: new Date (el.end)}));\n      arr.sort ((a, b) => b.start - a.start);\n      let dict = arr.reduce ((acc, val) => {\n        findIndex (acc, 'date', dateShortHand (val.start), {date: printDate (val.start)}).push (val);\n        return acc;\n      }, []);\n      resolve (dict);\n    } catch (e) {\n      reject (e);\n    }\n  })\n\n  const toggleFreeze = async id => new Promise (async (resolve, reject) => {\n    try {\n      let req = await api.toggleFreeze (id);\n      let updated = await req.json ();\n      setSharedByMe (sbm => sbm.map (share => share.id === id ? updated : share))\n      resolve ();\n    } catch (e) {\n      reject (e);\n    }\n  });\n\n  const shareJournal = async (phone, name, shareWithName) => new Promise (async (resolve, reject) => {\n    try {\n      let shareWith = (phone.length === 10) ? `+1${phone}` : phone;\n      let req = await api.post ({shareWith, name, shareWithName});\n      let share = await req.json ();\n      alert (`Successfully shared your journal with ${phone}!`);\n      console.log (share);\n      resolve (share);\n    } catch (e) {\n      reject (e);\n    }\n  })\n\n  return {sharedByMe, sharedWithMe, getShareById, getShares, shareJournal, toggleFreeze};\n\n}","import NavSkills from './img/skill.svg'\nimport NavPlus from './img/plus.svg'\nimport NavBook from './img/book.svg'\nimport NavSettings from './img/settings.svg'\nimport { useState, useRef } from 'react'\nimport useAuth from './hooks/useAuth';\nimport Write from './pages/Write'\nimport Journal from './pages/Journal'\nimport Skills from './pages/Skills'\nimport Settings from './pages/Settings'\nimport useSettings from './hooks/useSettings';\nimport useSkills from './hooks/useSkills';\nimport useJournal from './hooks/useJournal';\nimport './App.css';\nimport SharedWithMe from './pages/SharedWithMe'\nimport useSharing from './hooks/useSharing'\n\n// const base = 'http://localhost:3000';\nconst base = 'https://lincoln-howard-jr.github.io/journal'\n\nconst sanitizePhoneNumber = number => {\n  return '+1' + number.replaceAll (/[^0-9]/g, '');\n}\n\nconst titles = {\n  'write': 'Check In',\n  'journal': 'Therapy Journal',\n  'settings': 'Customize',\n  'skills': 'Coping Skills',\n  'sharing': 'Therapy Journal'\n}\n\n// pending actions\nlet pending = JSON.parse (localStorage.getItem ('pending-actions') || '[]');\nconst handlePending = (actions={}) => {\n  localStorage.setItem ('pending-actions', []);\n  pending.forEach (({action, body}) => actions [action] (body));\n}\n\nfunction App({install, swStatus}) {\n  // api\n  const {skills, getSkills, submitSkill} = useSkills ();\n  const {entries, getEntries, createEntry} = useJournal ();\n  const sharing = useSharing ();\n  const settings = useSettings ();\n\n  const {user, login, register, logout} = useAuth (() => {\n    getSkills ();\n    getEntries ();\n    sharing.getShares ();\n    handlePending ({'submit-skill': submitSkill, 'create-entry': createEntry});\n  });\n  \n  let initialPage = new URLSearchParams (window.location.search).get ('page') || 'write';\n  const [page, setPage] = useState (initialPage);\n  const redirect = (url) => {\n    let arr = url.split ('?');\n    console.log (url, arr);\n    let nextPage = arr.length > 1 ? new URLSearchParams (`?${arr [1]}`).get ('page') : 'write';\n    window.history.pushState ({previous: page, next: nextPage}, 'Journal', `${base}${url}`)\n    setPage (nextPage);\n  }\n  const [prompt, setPrompt] = useState (false);\n  const numRef = useRef ();\n  const codeRef = useRef ();\n  const [answer, setAnswer] = useState (v => console.log (v));\n  const promptForCode = _answer => {\n    setPrompt (true);\n    setAnswer (() => () => {console.log ('answering!'); _answer (codeRef.current.value)});\n  }\n  const [codeSent, setCodeSent] = useState (false);\n  const [onAuthError, setAuthError] = useState (null);\n  const onCodeSent = () => {\n    setCodeSent (true);\n  }\n  const onRegisterClick = async () => {\n    try {\n      let raw = numRef.current.value;\n      let phoneNumber = sanitizePhoneNumber (raw);\n      await register (phoneNumber, promptForCode, onCodeSent);\n    } catch (e) {\n      setAuthError (e);\n    }\n  }\n  const onLogInClick = async () => {\n    try {\n      let raw = numRef.current.value;\n      let phoneNumber = sanitizePhoneNumber (raw);\n      await login (phoneNumber, promptForCode, onCodeSent);\n    } catch (e) {\n      setAuthError (e);\n    }\n  }\n  // loading animation\n  const [loadingAnimation, setLoadingAnimation] = useState ('none');\n  const freeze = () => {\n    setLoadingAnimation ('grid');\n    return function unfreeze () {setLoadingAnimation ('none')}\n  }\n  if (!user) return (\n    <>\n      <div id=\"loading-animation\" style={{display: loadingAnimation}}></div>\n      <header>\n        <h1>Therapy Journal</h1>\n      </header>\n      <main>\n        <h3>{codeSent ? 'Your secret code in on the way!' : 'Enter your phone number:'}</h3>\n        <div style={{display: (onAuthError !== null ? 'grid' : 'none')}}>\n          {onAuthError?.message}\n        </div>\n        <div className=\"phone-number-input\">\n          <input type=\"tel\" placeholder=\"123-456-7890\" ref={numRef} disabled={!!prompt} />\n        </div>\n        {\n          prompt &&\n          <div className=\"phone-number-input\">\n            <input autoComplete=\"one-time-code\" placeholder=\"Secret Code\" ref={codeRef} />\n          </div>\n        }\n        <div className=\"phone-number-input\">\n          { \n            !prompt &&\n            <span>\n              <button onClick={onLogInClick}>Get Login Code</button>\n              <button onClick={onRegisterClick}>Register</button>\n            </span>\n          }\n          { prompt && <><button onClick={answer}>Submit!</button></> }\n        </div>\n        <section>\n          <h3>About Us</h3>\n          <hr style={{width: '35%'}}/>\n          <b>Why A Journal?</b>\n          <p>\n            Throughout our experiences as individuals with mental illness, we have discovered the benefit of\n            journaling. These benefits are not limited to those with mental illness, providing anyone with a\n            deeper understanding of themselves and their emotional wellbeing. Oftentimes describing a situation\n            or emotion in writing provides a sense of clarity not found in other ways. Also available to you is\n            a place to write down and sort coping skills you have learned. \n          </p>\n          <b>How Does It Work?</b>\n          <p>\n            To start, register an account with your phone number. You will be texted a secret code. Enter that and...\n            well that's it, you now have your very own therapy journal!\n            To put it simply, you write details about your life in your journal. Again, but in more detail, you can\n            structure your journal in different ways. Journal entries can be formatted as \"question and answer\" or as \"freeform\n            writing\" (this is easily switched with one click in the settings tab). All journal entries include the date\n            and time of writing automatically and can be found listed in chronological order. You also can curate a\n            list of coping skills for different situations and share your journal if need be.\n          </p>\n        </section>\n        <section>\n          <h3>Terms of Service</h3>\n          <hr style={{width: '35%'}}/>\n          <b>Privacy</b>\n          <p>\n            None of your information (journal entries, coping skills, phone number, etc) will be publicly available\n            nor will it be shared unless you explicitly share it.\n          </p>\n          <b>Sharing</b>\n          <p>\n            By nature of being a Therapy Journal application, the contained subject matter will often be sensitive\n            information. With this application, you can share your journal with anyone. However, it is recommended\n            for, and with intention of, sharing with medical professionals only. In the case of abuse of this feature deemed\n            detrimental to the health of another individual, we retain the right to terminate your account.\n          </p>\n        </section>\n      </main>\n    </>\n  );\n  return (\n    <>\n      <div id=\"loading-animation\" style={{display: loadingAnimation}}></div>\n      <header>\n        <h1>{titles [page]}</h1>\n      </header>\n      <Write createEntry={createEntry} settings={settings} user={user} freeze={freeze} display={page === 'write' ? 'grid' : 'none'} />\n      <Journal entries={entries} user={user} freeze={freeze} display={page === 'journal' ? 'grid' : 'none'} />\n      <Skills submitSkill={submitSkill} skills={skills} user={user} display={page === 'skills' ? 'grid' : 'none'} />\n      <Settings freeze={freeze} redirect={redirect} settings={settings} {...sharing} logout={logout} user={user} freeze={freeze} display={page === 'settings' ? 'grid' : 'none'} install={install} swStatus={swStatus} />\n      <SharedWithMe {...sharing} display={page === 'sharing' ? 'grid' : 'none'} shareId={new URLSearchParams (window.location.search).get ('id')} name={new URLSearchParams (window.location.search).get ('name')}/>\n      <nav>\n        <ul>\n          <li></li>\n          <li className={page === 'skills' ? 'active' : ''} onClick={() => {redirect (`/?page=skills`)}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavSkills} />\n            <label>Skills</label>\n          </li>\n          <li className={page === 'write' ? 'active' : ''} onClick={() => {redirect (`/?page=write`)}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavPlus} />\n            <label>Write</label>\n          </li>\n          <li className={page === 'journal' ? 'active' : ''} onClick={() => {redirect (`/?page=journal`)}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavBook} />\n            <label>Journal</label>\n          </li>\n          <li className={page === 'settings' ? 'active' : ''} onClick={() => {redirect (`/?page=settings`)}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavSettings} />\n            <label>Settings</label>\n          </li>\n          <li></li>\n        </ul>\n      </nav>\n    </>\n  );\n}\n\nexport default App;","import {useState, useEffect} from 'react';\n\nexport default function useSettings (onSessionActive) {\n  const storedSettings = localStorage.getItem ('therapy-journal-settings') || '{}';\n  const [settings, setSettings] = useState (JSON.parse (storedSettings));\n  const getSetting = setting => {\n    return settings [setting];\n  }\n  const addSetting = (setting, initial) => {\n    setSettings ({...settings, [setting]: initial});\n  }\n  const toggle = setting => e => {\n    console.log (`Changing setting for ${setting} from ${settings [setting]} to ${!settings [setting]}`);\n    setSettings ({...settings, [setting]: !settings[setting]})\n  }\n  useEffect (() => {\n    localStorage.setItem ('therapy-journal-settings', JSON.stringify (settings));\n  }, [settings]);\n\n  return {getSetting, toggle, addSetting}\n}","import {useState, useEffect} from 'react';\nimport {login as _login, register as _register, getCurrentUser, retrieveAccessToken, refreshSession, signOut, customFlow} from '../auth';\n\nexport default function useAuth (onSessionActive) {\n  // data\n  const [user, setUser] = useState (null);\n  const [err, setErr] = useState (null);\n\n  // login method - gets jwt from cognito and accuires barista session from api\n  const login = async (Username, cb, onCodeSent) => {\n    return new Promise (async (resolve, reject) => {\n      try {\n        await customFlow (Username, cb, onCodeSent);\n        console.log ('custom flow complete');\n        await retrieveAccessToken ();\n        setUser (true);\n        resolve ();\n      } catch (e) {\n        console.log ('custom flow complete - on err');\n        reject (e);\n      }\n    })\n  }\n\n  // retrieve locally stored user\n  const retrieveSession = async () => new Promise (async (resolve, reject) => {\n    try {\n      await getCurrentUser ();\n      await retrieveAccessToken ();\n      resolve ();\n    } catch (e) {\n      reject (e);\n    }\n  });\n\n  // logout logs out locally\n  const logout = async () => new Promise (async (resolve, reject) => {\n    try {\n      await signOut ();\n      window.location.reload ();\n      resolve ();\n    } catch (e) {\n      reject (e);\n    }\n  })\n  \n  // init\n  const init = async () => {\n    try {\n      console.log ('init auth')\n      await getCurrentUser ();\n      await retrieveSession ();\n      await refreshSession ();\n      setUser (true);\n    } catch (e) {\n      console.log (e);\n      setUser (false);\n    }\n  }\n\n  const register = async (phoneNumber, cb, onCodeSent) => new Promise (async (resolve, reject) => {\n    try {\n      await _register (phoneNumber);\n      await login (phoneNumber, cb, onCodeSent);\n      setUser (true);\n    } catch (e) {\n      setErr (e);\n    }\n  });\n\n  useEffect (() => {\n    if (user && onSessionActive) onSessionActive ();\n  }, [user]);\n\n  useEffect (() => {\n    init ();\n  }, []);\n\n  return {user, err, login, logout, register};\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nconsole.warn = () => {}\nconsole.error = () => {}\n// import reportWebVitals from './reportWebVitals';\nconst swStatus = localStorage.getItem ('sw-status');\nconst install = async () => {\n  try {\n    if (swStatus) return;\n    await navigator.serviceWorker.register ('/journal/sw.js', {scope: '/journal/'});\n    localStorage.setItem ('sw-status', 'installed')\n    alert ('Therapy Journal has installed!');\n    window.location.reload ();\n  } catch (e) {\n    alert (e);\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App install={install} swStatus={swStatus} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}