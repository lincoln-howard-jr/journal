{"version":3,"sources":["img/skill.svg","img/plus.svg","img/book.svg","img/settings.svg","auth.js","pages/Write.js","pages/Journal.js","img/pen.svg","pages/Skills.js","pages/Settings.js","hooks/useSkills.js","hooks/useJournal.js","pages/SharedWithMe.js","hooks/useSharing.js","App.js","hooks/useSettings.js","hooks/useAuth.js","index.js"],"names":["poolDetails","authDetails","Pool","AmazonCognitoIdentity","UserPoolId","ClientId","cognitoUser","accessToken","refreshToken","login","Username","Promise","resolve","reject","ClientMetadata","phoneNumber","e","getCurrentUser","retrieveAccessToken","getSession","session","getAccessToken","getJwtToken","RefreshToken","getRefreshToken","getToken","console","log","signOut","a","register","attributePhoneNumber","Name","Value","customAttributeId","id","attributeList","signUp","err","result","user","customFlow","cb","onCodeSent","setAuthenticationFlowType","initiateAuth","onSuccess","r","onFailure","customChallenge","challengeParameters","answer","sendCustomChallengeAnswer","entries","get","fetch","method","headers","Headers","body","JSON","stringify","skills","shares","months","days","printDate","d","Date","getDay","getMonth","getDate","getTime","getHours","getMinutes","slice","Write","display","freeze","settings","createEntry","getSetting","useState","start","setStart","qaRef","useRef","ffRef","complete","unfreeze","end","entryType","questions","Array","from","current","querySelectorAll","map","el","innerText","answers","freeform","style","ref","className","contentEditable","onClick","EntryHeader","date","isOpen","open","close","EntryContents","entry","q","i","Journal","isNotMain","setOpen","index","meta","indexOf","filter","list","Skills","submitSkill","mode","setMode","catRef","sklRef","onSubmitSkill","category","value","skill","defaultValue","padding","height","alignItems","justifyContent","src","Pen","width","attributions","ShareJourunal","shareJournal","numRef","nameRef","textDecoration","type","phone","name","SharedWithMe","sharing","redirect","share","Setting","setting","title","toggle","Settings","swStatus","install","logout","Object","keys","k","dangerouslySetInnerHTML","__html","findIndex","indexedArr","key","found","length","push","dateShortHand","_d","getFullYear","toString","shareId","getShareById","journal","setJournal","useEffect","alert","titles","pending","parse","localStorage","getItem","App","setSkills","getSkills","api","req","json","data","indexed","reduce","acc","val","skls","post","action","setItem","useSkills","setEntries","getEntries","arr","assign","sort","b","dict","dsh","splice","useJournal","setSharing","getShares","getById","shareWith","useSharing","onSessionActive","storedSettings","setSettings","useSettings","setUser","setErr","retrieveSession","window","location","reload","init","refreshSession","_register","useAuth","actions","forEach","handlePending","initialPage","URLSearchParams","search","page","setPage","url","split","nextPage","history","pushState","previous","next","prompt","setPrompt","codeRef","v","setAnswer","promptForCode","_answer","codeSent","setCodeSent","onRegisterClick","raw","replaceAll","onLogInClick","loadingAnimation","setLoadingAnimation","alt","NavSkills","NavPlus","NavBook","NavSettings","placeholder","disabled","autoComplete","warn","error","navigator","serviceWorker","scope","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kcAAe,MAA0B,kCCA1B,MAA0B,iCCA1B,MAA0B,iCCA1B,MAA0B,qC,iBCGnCA,EACS,6BADTA,EAII,sBAGNC,EAAc,KACdC,EAAO,IAAIC,IAAuC,CAACC,WAAYJ,EAAoBK,SAAUL,IAC7FM,EAAc,KACdC,EAAc,KACdC,EAAe,KAENC,EAAQ,SAACC,GAAD,OAAc,IAAIC,SAAS,SAACC,EAASC,GACxD,IACEZ,EAAc,IAAIE,IAA6C,CAACO,WAAUI,eAAgB,CAACC,YAAaL,KACxGJ,EAAc,IAAIH,IAAmC,CAACO,WAAUR,SAChEU,IACA,MAAOI,GACPH,EAAQG,QAICC,EAAiB,kBAAM,IAAIN,SAAS,SAACC,EAASC,GACzD,IACEP,EAAcJ,EAAKe,iBACnBL,IACA,MAAOI,GACPH,EAAQG,QAICE,EAAsB,kBAAM,IAAIP,SAAS,SAACC,EAASC,GAC9D,IACE,IAAKP,EAAa,KAAM,mDACxBA,EAAYa,YAAY,SAACH,EAAGI,GAC1B,GAAIJ,EAAG,OAAOH,EAAQG,GACtBT,EAAca,EAAQC,iBAAkBC,cACxCd,EAAe,IAAIL,IAA2C,CAACoB,aAAcH,EAAQI,kBAAmBC,aACxGC,QAAQC,IAAK,0BACbf,OAEF,MAAOI,GACPH,EAAQG,QAmBCY,EAAO,uCAAG,sBAAAC,EAAA,+EAAY,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,SAAAgB,EAAA,+EAEtCvB,EAAYsB,UAF0B,OAG5ChB,IAH4C,+CAK5CC,EAAM,MALsC,wDAAb,0DAAZ,2CAAH,qDASPiB,EAAQ,uCAAG,WAAOf,GAAP,SAAAc,EAAA,+EAAuB,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAgB,EAAA,sDACpDE,EAAuB,IAAI5B,IAA4C,CAAC6B,KAAM,eAAgBC,MAAOlB,IACrGmB,EAAoB,IAAI/B,IAA4C,CAAC6B,KAAM,mBAAoBC,MAAOE,gBACtGC,EAAgB,CAACL,EAAsBG,GAC7ChC,EAAKmC,OAAQtB,EAAaoB,cAAOC,EAAe,MAAM,SAACE,EAAKC,GAC1D,GAAID,EAAK,OAAOzB,EAAQyB,GACxBhC,EAAciC,EAAOC,KACrB5B,OAPwD,2CAAb,0DAAvB,2CAAH,sDAWR6B,EAAa,SAAC1B,EAAa2B,EAAIC,GAAlB,OAAiC,IAAIhC,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,SAAAgB,EAAA,sEAChEpB,EAAOM,GADyD,OAEtET,EAAYsC,0BAA2B,oBACvClB,QAAQC,IAAKrB,EAAaL,GAC1BK,EAAYuC,aAAc5C,EAAa,CACrC6C,UAAW,SAAAC,GAAC,OAAInC,EAASmC,IACzBC,UAAW,SAAAhC,GAAC,OAAIH,EAAQG,IACxBiC,gBAAiB,SAAUC,GAAsB,IAAD,OAC9CP,IACAD,GAAI,SAAAS,GAAM,OAAI7C,EAAY8C,0BAA2BD,EAAQ,SATK,2CAAb,0DAc9CE,EAAU,CACrBC,UACE,OAAO,kBAAMC,MAAO,sEAAuE,CACzFC,OAAQ,MACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,QAI5B,WACE,OAAO,SAAAoD,GAAI,OAAIJ,MAAO,sEAAuE,CAC3FC,OAAQ,OACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,EACtB,eAAgB,qBAElBoD,KAAMC,KAAKC,UAAWF,QAIfG,EAAS,CACpBR,UACE,OAAO,kBAAMC,MAAO,qEAAsE,CACxFC,OAAQ,MACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,QAI5B,WACE,OAAO,SAAAoD,GAAI,OAAIJ,MAAO,qEAAsE,CAC1FC,OAAQ,OACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,EACtB,eAAgB,qBAElBoD,KAAMC,KAAKC,UAAWF,QAKfI,EAAS,CACpBT,UACE,OAAO,kBAAMC,MAAO,qEAAsE,CACxFC,OAAQ,MACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,QAI5B,cACE,OAAO,SAAA4B,GAAE,OAAIoB,MAAK,8EAAyEpB,GAAM,CAC/FqB,OAAQ,MACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,QAI5B,WACE,OAAO,SAAAoD,GAAI,OAAIJ,MAAO,qEAAsE,CAC1FC,OAAQ,OACRC,QAAS,IAAIC,QAAS,CACpB,qBAAsBnD,EACtB,eAAgB,qBAElBoD,KAAMC,KAAKC,UAAWF,Q,WChK5B,IAAMK,EAAS,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEIC,EAAO,CACX,SACA,UACA,YACA,WACA,SACA,WACA,UAEIC,EAAY,WAAoB,IAAnBC,EAAkB,uDAAhB,IAAIC,KACvB,MAAM,GAAN,OAAWH,EAAME,EAAEE,UAAnB,aAAkCL,EAAQG,EAAEG,YAA5C,YAA4DH,EAAEI,YAE1DC,EAAU,WAAoB,IAAnBL,EAAkB,uDAAhB,IAAIC,KACrB,MAAM,GAAN,OAAWD,EAAEM,WAAc,IAAM,GAAjC,YAAwC,WAAIN,EAAEO,cAAgBC,OAAO,GAArE,YAA2ER,EAAEM,WAAc,GAAK,KAAO,OAqD1FG,MAlDf,YAA2D,IAA1CC,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,YACnCC,EAAcF,EAAdE,WADiD,EAE9BC,mBAAU,IAAId,MAFgB,mBAEjDe,EAFiD,KAE1CC,EAF0C,KAGlDC,EAAQC,mBACRC,EAAQD,mBACRE,EAAQ,uCAAG,8BAAA3D,EAAA,6DACX4D,EAAWX,IACXnB,EAAO,CAACwB,QAAOO,IAAK,IAAItB,KAASuB,UAAWV,EAAY,YAAc,WAAa,aAFxE,SAIU,cAAnBtB,EAAKgC,WACPhC,EAAKiC,UAAYC,MAAMC,KAAMT,EAAMU,QAAQC,iBAAkB,MAAMC,KAAK,SAAAC,GAAE,OAAIA,EAAGC,aACjFxC,EAAKyC,QAAUP,MAAMC,KAAMT,EAAMU,QAAQC,iBAAkB,QAAQC,KAAK,SAAAC,GAAE,OAAIA,EAAGC,cAEjFxC,EAAK0C,SAAWd,EAAMQ,QAAQI,UARnB,SAUPnB,EAAarB,GAVN,OAWbyB,EAAU,IAAIhB,MACS,aAAnBT,EAAKgC,WAA0BE,MAAMC,KAAMT,EAAMU,QAAQC,iBAAkB,QAAQC,KAAK,SAAAC,GAAE,OAAIA,EAAGC,UAAY,SAC1F,aAAnBxC,EAAKgC,YAA0BJ,EAAMQ,QAAQI,UAAY,0BAC7DV,IAda,kDAgBU,aAAnB9B,EAAKgC,WAA0BE,MAAMC,KAAMT,EAAMU,QAAQC,iBAAkB,QAAQC,KAAK,SAAAC,GAAE,OAAIA,EAAGC,UAAY,SAC1F,aAAnBxC,EAAKgC,YAA0BJ,EAAMQ,QAAQI,UAAY,0BAC7DV,IAlBa,0DAAH,qDAqBd,OACE,uBAAMa,MAAO,CAACzB,WAAd,UACE,6BAAKX,MACL,6BAAKM,EAASW,MAEXF,EAAY,aACb,sBAAKsB,IAAKlB,EAAOmB,UAAU,YAA3B,UACE,wDACA,qBAAKC,iBAAe,EAApB,iBACA,+CACA,qBAAKA,iBAAe,EAApB,iBACA,4DACA,qBAAKA,iBAAe,EAApB,oBAIFxB,EAAY,aACZ,qBAAKwB,iBAAe,EAACF,IAAKhB,EAA1B,oCAEF,wBAAQmB,QAASlB,EAAjB,0B,QC7EAhB,EAAU,WAAoB,IAAnBL,EAAkB,uDAAhB,IAAIC,KACrB,MAAM,GAAN,OAAWD,EAAEM,WAAc,IAAM,GAAjC,YAAwC,WAAIN,EAAEO,cAAgBC,OAAO,GAArE,YAA2ER,EAAEM,WAAc,GAAK,KAAO,OAGnGkC,EAAc,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,MACxC,OAAOF,EACL,yBAAQL,UAAU,eAAlB,UACE,sBAAME,QAASK,EAAf,eACA,6BAAKH,OAGP,yBAAQJ,UAAU,eAAlB,UACE,sBAAME,QAASI,EAAf,kBACA,6BAAKF,QAKLI,EAAgB,SAAC,GAAD,IAAE3D,EAAF,EAAEA,QAASyD,EAAX,EAAWA,KAAX,OAAqBzD,EAAQ4C,KAAK,SAAAgB,GACtD,OAAOH,EACL,oCACE,6BAAKtC,EAASyC,EAAM9B,SAEE,aAApB8B,EAAMtB,WACNsB,EAAMrB,UAAUK,KAAK,SAACiB,EAAGC,GAAJ,OACnB,kCACE,8BACE,8BAAID,EAAJ,OACCD,EAAMb,QAASe,WAMF,aAApBF,EAAMtB,WACN,kCACE,4BAAIsB,EAAMZ,eAhBhB,gBAAuBY,EAAM9E,KAoB1B,4BAmCQiF,MA/Bf,YAAiD,IAA/BvC,EAA8B,EAA9BA,QAASxB,EAAqB,EAArBA,QAASgE,EAAY,EAAZA,UAAY,EACtBnC,mBAAU,IADY,mBACvC4B,EADuC,KACjCQ,EADiC,KAG9C,OAAOD,EAEL,mCACGhE,EAAQ4C,KAAK,SAAAsB,GAAK,OACjB,oCACE,cAAC,EAAD,CAAaX,KAAMW,EAAMC,KAAKZ,KAAMC,QAAuC,IAA/BC,EAAKW,QAASF,EAAMX,MAAcE,KAAM,WAAOQ,GAAS,SAAAR,GAAI,4BAAQA,GAAR,CAAcS,EAAMX,WAASG,MAAO,WAC1IO,GAAS,SAAAR,GAAI,OAAIA,EAAKY,QAAQ,SAAAvD,GAAC,OAAIA,IAAMoD,EAAMX,YAC9CW,MAAOA,IACV,cAAC,EAAD,CAAeT,MAAqC,IAA/BA,EAAKW,QAASF,EAAMX,MAAcvD,QAASkE,EAAMI,SAJxE,gBAAuBJ,EAAMX,YAWjC,sBAAMN,MAAO,CAACzB,WAAd,SACGxB,EAAQ4C,KAAK,SAAAsB,GAAK,OACjB,oCACE,cAAC,EAAD,CAAaX,KAAMW,EAAMC,KAAKZ,KAAMC,QAAuC,IAA/BC,EAAKW,QAASF,EAAMX,MAAcE,KAAM,WAAOQ,GAAS,SAAAR,GAAI,4BAAQA,GAAR,CAAcS,EAAMX,WAASG,MAAO,WAC1IO,GAAS,SAAAR,GAAI,OAAIA,EAAKY,QAAQ,SAAAvD,GAAC,OAAIA,IAAMoD,EAAMX,YAC9CW,MAAOA,IACV,cAAC,EAAD,CAAeT,MAAqC,IAA/BA,EAAKW,QAASF,EAAMX,MAAcvD,QAASkE,EAAMI,SAJxE,gBAAuBJ,EAAMX,aClEtB,MAA0B,gCCyD1BgB,MAtDf,YAAkD,IAAhC/C,EAA+B,EAA/BA,QAASf,EAAsB,EAAtBA,OAAQ+D,EAAc,EAAdA,YAAc,EACvB3C,mBAAU,aADa,mBACxC4C,EADwC,KAClCC,EADkC,KAEzCC,EAAS1C,mBACT2C,EAAS3C,mBAIT4C,EAAa,uCAAG,sBAAArG,EAAA,+EAEZgG,EAAa,CAACM,SAAUH,EAAOjC,QAAQqC,MAAOC,MAAOJ,EAAOlC,QAAQI,YAFxD,6DAMpB4B,EAAS,aANW,wDAAH,qDAQnB,OACE,qCACE,0BAAU5F,GAAG,oBAAb,SAEI2B,EAAOmC,KAAK,SAAAkC,GAAQ,OAClB,iCAASA,EAASX,KAAKW,gBAI7B,uBAAM7B,MAAO,CAACzB,QAAkB,SAATiD,EAAkBjD,EAAU,QAAnD,UACE,2CACA,6CAAe,uBAAO8C,KAAK,oBAAoBpB,IAAKyB,EAAQM,aAAa,iBACzE,0CAAY,mBAAGhC,MAAO,CAACiC,QAAS,KAAMhC,IAAK0B,EAAQxB,iBAAe,EAAtD,oBACZ,gCACE,wBAAQC,QAASwB,EAAjB,uBACA,wBAAQxB,QAAS,WAAKqB,EAAS,cAA/B,0BAGJ,uBAAMzB,MAAO,CAACzB,QAAkB,cAATiD,EAAuBjD,EAAU,QAAxD,UACE,sBAAM6B,QA9BO,WACjBqB,EAAS,SA6BsBzB,MAAO,CAACkC,OAAQ,GAAI3D,QAAS,OAAQ4D,WAAY,SAASC,eAAgB,UAArG,SAAgH,qBAAKC,IAAKC,EAAKC,MAAO,GAAIL,OAAQ,OAEhJ1E,EAAOmC,KAAK,SAAAkC,GAAQ,OAClB,oCACE,6BAAKA,EAASX,KAAKW,WACnB,6BAEIA,EAASR,KAAK1B,KAAK,SAAAoC,GAAK,OACtB,6BAAKA,EAAMA,0BC3CzBS,EAAe,CACnB,eAAgB,yLAChB,UAAW,wLACX,WAAY,gNACZ,WAAY,+KACZ,WAAY,kLACZ,YAAa,+KACb,eAAgB,uKAGlB,SAASC,EAAT,GAAyC,IAAhBC,EAAe,EAAfA,aACjBC,EAAS3D,mBACT4D,EAAU5D,mBAOhB,OACE,sBAAKkB,UAAU,SAAf,UACE,mBAAGF,MAAO,CAAC6C,eAAgB,QAA3B,qCACA,uBAAOC,KAAK,MAAM7C,IAAK0C,IACvB,mBAAG3C,MAAO,CAAC6C,eAAgB,QAA3B,uBACA,uBAAO5C,IAAK2C,IACZ,uBACA,sBAAMxC,QAbM,WACd,IAAI2C,EAAQJ,EAAOlD,QAAQqC,MACvBkB,EAAOJ,EAAQnD,QAAQqC,MAC3BY,EAAcK,EAAOC,GACrBL,EAAOlD,QAAQqC,MAAQ,IASrB,uBAKN,SAASmB,EAAT,GAA6C,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,SAC/B,OACE,sBAAKjD,UAAU,SAAf,UACE,mBAAGF,MAAO,CAAC6C,eAAgB,QAA3B,sCACA,mBAAG7C,MAAO,CAAC6C,eAAgB,QAA3B,2BACA,oBAAI7C,MAAO,CAACuC,MAAO,UAEjBW,EAAQvD,KAAK,SAAAyD,GAAK,OAChB,sBAAMhD,QAAS,WAAO+C,EAAQ,gDAA2CC,EAAMvH,GAAjD,iBAA4DuH,EAAMJ,QAAhG,SAA2GI,EAAMJ,aAO3H,SAASK,EAAT,GAAyD,IAAtCC,EAAqC,EAArCA,QAASC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,OAAQ7E,EAAa,EAAbA,WACzC,OACE,sBAAKuB,UAAU,UAAf,UACE,8BAAMqD,IACN,8BAAK,sBAAMnD,QAASoD,EAAQF,GAAUpD,UAAWvB,EAAY2E,GAAW,YAAc,gBA+B7EG,MA1Bf,YAAoG,IAAjFhF,EAAgF,EAAhFA,SAAUiF,EAAsE,EAAtEA,SAAUC,EAA4D,EAA5DA,QAASpF,EAAmD,EAAnDA,QAASqF,EAA0C,EAA1CA,OAAQlB,EAAkC,EAAlCA,aAAcQ,EAAoB,EAApBA,QAASC,EAAW,EAAXA,SACtF,OACE,uBAAMjD,UAAU,WAAWF,MAAO,CAACzB,WAAnC,UACE,cAAC8E,EAAD,aAASC,QAAQ,WAAWC,MAAM,mBAAsB9E,KACtDiF,GACA,qBAAKxD,UAAU,SAAf,SACE,sBAAME,QAASuD,EAAf,wBAGJ,cAAClB,EAAD,CAAeC,aAAcA,IAC7B,cAACO,EAAD,CAAcC,QAASA,EAASC,SAAUA,IAC1C,qBAAKjD,UAAU,SAAf,SACE,sBAAME,QAASwD,EAAf,uBAEF,0BAAS/H,GAAG,eAAZ,UACE,8CACA,6BACGgI,OAAOC,KAAMtB,GAAc7C,KAAK,SAAAoE,GAAC,OAChC,oBAA8BC,wBAAyB,CAACC,OAAQzB,EAAcuB,KAA9E,uBAAyBA,gBCxE/BG,EAAY,SAACC,EAAYC,EAAKtC,GAAoB,IAAD,EAAZZ,EAAY,uDAAP,GAC1CmD,EAAQF,EAAW/C,QAAQ,SAAAxB,GAAE,OAAIA,EAAIwE,KAAStC,KAClD,GAAIuC,EAAMC,OAAS,EAAG,OAAOD,EAAO,GAAGhD,KACvC,IAAIJ,GAAK,mBAAKmD,EAAMtC,GAAX,qBAAkBZ,GAAlB,qBAA8B,IAA9B,GAET,OADAiD,EAAWI,KAAMtD,GACVA,EAAMI,MCLf,IAAM3D,GAAS,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEIC,GAAO,CACX,SACA,SACA,UACA,YACA,WACA,SACA,YAGI6G,GAAgB,WAAqB,IAApBC,EAAmB,uDAAhB,IAAI3G,KACxBD,EAAI,IAAIC,KAAM2G,GAClB,MAAO,UAAG5G,EAAEG,WAAL,YAAoBH,EAAEI,UAAtB,YAAoCJ,EAAE6G,eAAiBC,YAE1D/G,GAAY,WAAqB,IAApB6G,EAAmB,uDAAhB,IAAI3G,KACpBD,EAAI,IAAIC,KAAM2G,GAClB,MAAM,GAAN,OAAW9G,GAAME,EAAEE,UAAnB,aAAkCL,GAAQG,EAAEG,YAA5C,YAA4DH,EAAEI,YAG1DiG,GAAY,WAAyC,IAAD,EAAvCC,EAAuC,uDAA5B,GAAIC,EAAwB,uCAAnBtC,EAAmB,uCAAZZ,EAAY,uDAAP,GAC7CmD,EAAQF,EAAW/C,QAAQ,SAAAxB,GAAE,OAAIA,EAAIwE,KAAStC,KAClD,GAAIuC,EAAMC,OAAS,EAAG,OAAOD,EAAO,GAAGhD,KACvC,IAAIJ,GAAK,mBAAKmD,EAAMtC,GAAX,qBAAkBZ,GAAlB,qBAA8B,IAA9B,GAET,OADAiD,EAAWI,KAAMtD,GACVA,EAAMI,M,OChBA4B,OAtBf,YAAgE,IAAxC2B,EAAuC,EAAvCA,QAAS5B,EAA8B,EAA9BA,KAAMzE,EAAwB,EAAxBA,QAASsG,EAAe,EAAfA,aAAe,EAC/BjG,mBAAU,IADqB,mBACtDkG,EADsD,KAC7CC,EAD6C,KAY7D,OAVAC,qBAAW,WACJJ,GACL,sBAAC,sBAAArJ,EAAA,2EAEGwJ,EAFH,SAEqBF,EAAcD,GAFnC,kFAIGK,MAAK,MAJR,wDAAD,KAOC,CAACL,IAEF,mCACE,uBAAM5E,MAAO,CAACzB,WAAd,UACE,6CAAgByE,KAChB,cAAC,EAAD,CAASjC,WAAS,EAACxC,QAASA,EAASxB,QAAS+H,UChBhDpH,GAAS,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEIC,GAAO,CACX,SACA,SACA,UACA,YACA,WACA,SACA,YAGI6G,GAAgB,WAAqB,IAApBC,EAAmB,uDAAhB,IAAI3G,KACxBD,EAAI,IAAIC,KAAM2G,GAClB,MAAO,UAAG5G,EAAEG,WAAL,YAAoBH,EAAEI,UAAtB,YAAoCJ,EAAE6G,eAAiBC,YAE1D/G,GAAY,WAAqB,IAApB6G,EAAmB,uDAAhB,IAAI3G,KACpBD,EAAI,IAAIC,KAAM2G,GAClB,MAAM,GAAN,OAAW9G,GAAME,EAAEE,UAAnB,aAAkCL,GAAQG,EAAEG,YAA5C,YAA4DH,EAAEI,YAG1DiG,GAAY,WAAyC,IAAD,EAAvCC,EAAuC,uDAA5B,GAAIC,EAAwB,uCAAnBtC,EAAmB,uCAAZZ,EAAY,uDAAP,GAC7CmD,EAAQF,EAAW/C,QAAQ,SAAAxB,GAAE,OAAIA,EAAIwE,KAAStC,KAClD,GAAIuC,EAAMC,OAAS,EAAG,OAAOD,EAAO,GAAGhD,KACvC,IAAIJ,GAAK,mBAAKmD,EAAMtC,GAAX,qBAAkBZ,GAAlB,qBAA8B,IAA9B,GAET,OADAiD,EAAWI,KAAMtD,GACVA,EAAMI,MCxBf,IAAM6D,GAAS,CACb,MAAS,WACT,QAAW,kBACX,SAAY,YACZ,OAAU,iBAIRC,GAAU7H,KAAK8H,MAAOC,aAAaC,QAAS,oBAAsB,MAmIvDC,OA7Hf,YAAmC,IAArB5B,EAAoB,EAApBA,QAASD,EAAW,EAAXA,SAAW,EJpBnB,WAAuB,IAAD,EAEP9E,mBAAU,IAFH,mBAE5BpB,EAF4B,KAEpBgI,EAFoB,KAoCnC,MAAO,CAAChI,SAAQiI,UAjCD,uCAAG,gCAAAlK,EAAA,+EAEEmK,EAAI1I,MAFN,cAEV2I,EAFU,gBAGGA,EAAIC,OAHP,OAGVC,EAHU,OAIVC,EAAUD,EAAKE,QAAQ,SAACC,EAAKC,GAE/B,OADA/B,EAAW8B,EAAK,WAAYC,EAAIpE,SAAU,CAACA,SAAUoE,EAAIpE,WAAW0C,KAAM0B,GACnED,IACN,IACHR,EAAWM,GARG,kDAUdb,MAAK,MAVS,0DAAH,qDAiCY1D,YApBP,SAAClE,GAAD,OAAU,IAAIhD,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,eAAAgB,EAAA,sEAEvCiK,GAAW,SAAAU,GAGT,OAFUhC,EAAWgC,EAAM,WAAY7I,EAAKwE,SAAU,CAACA,SAAUxE,EAAKwE,WAClE0C,KAAMlH,GACH6I,KAL8B,SAOjCR,EAAIS,KAAM9I,GAPuB,OAQvC/C,IARuC,iDAUnC6K,EAAU7H,KAAK8H,MAAOC,aAAaC,QAAS,oBAAsB,OAC9Df,KAAM,CACZ6B,OAAQ,eACR/I,SAEFgI,aAAagB,QAAS,kBAAmB/I,KAAKC,UAAW4H,IACzD5K,EAAM,MAhBiC,yDAAb,2DIMW+L,GAAlC9I,EAFyB,EAEzBA,OAAQiI,EAFiB,EAEjBA,UAAWlE,EAFM,EAENA,YAFM,EHanB,WAAwB,IAAD,EAEN3C,mBAAU,IAFJ,mBAE7B7B,EAF6B,KAEpBwJ,EAFoB,KAG9BC,EAAU,uCAAG,gCAAAjL,EAAA,+EAECmK,EAAI1I,MAFL,cAEX2I,EAFW,gBAGCA,EAAIC,OAHL,QAIfa,GADIA,EAHW,QAIL9G,KAAK,SAAAC,GAAE,OAAIiE,OAAO6C,OAAQ9G,EAAI,CAACf,MAAO,IAAIf,KAAM8B,EAAGf,OAAQO,IAAK,IAAItB,KAAM8B,EAAGR,WACnFuH,MAAM,SAACpL,EAAGqL,GAAJ,OAAUA,EAAE/H,MAAQtD,EAAEsD,SAC5BgI,EAAOJ,EAAIV,QAAQ,SAACC,EAAKC,GAE3B,OADA/B,GAAW8B,EAAK,OAAQxB,GAAeyB,EAAIpH,OAAQ,CAACyB,KAAM1C,GAAWqI,EAAIpH,SAAS0F,KAAM0B,GACjFD,IACN,IACHO,EAAYM,GAVG,kDAYf5B,MAAK,MAZU,0DAAH,qDAeVvG,EAAW,uCAAG,WAAMrB,GAAN,SAAA9B,EAAA,+EAAc,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAgB,EAAA,sEAEvCuL,EAAMtC,GAAenH,EAAKwB,OAC1B9B,EAAS,GAAGuD,OAASwG,GACvB1L,QAAQC,IAAK,kCACb0B,EAAS,GAAGsE,KAAK0F,OAAQ,EAAG,EAAG1J,KAE/BjC,QAAQC,IAAK,6BACb0B,EAAQgK,OAAQ,EAAG,GAAnB,GAAuB,KAAQD,GAA/B,qBAA0ClJ,GAAWP,EAAKwB,QAA1D,qBAAwE,CAACxB,IAAzE,KAEFjC,QAAQC,IAAK0B,GACbwJ,EAAYxJ,GAX+B,SAYrC2I,EAAIS,KAAM9I,GAZ2B,OAa3C/C,IAb2C,mDAevC6K,EAAU7H,KAAK8H,MAAOC,aAAaC,QAAS,oBAAsB,OAC9Df,KAAM,CACZ6B,OAAQ,eACR/I,SAEFgI,aAAagB,QAAS,kBAAmB/I,KAAKC,UAAW4H,IACzD5K,EAAM,MArBqC,0DAAb,0DAAd,2CAAH,sDAyBjB,MAAO,CAACwC,UAASyJ,aAAY9H,eGrDcsI,GAApCjK,EAHyB,EAGzBA,QAASyJ,EAHgB,EAGhBA,WAAY9H,EAHI,EAGJA,YACtBwE,EDSO,WAAwB,IAAD,EAENtE,mBAAU,IAFJ,mBAE7BsE,EAF6B,KAEpB+D,EAFoB,KAG9BC,EAAS,uCAAG,8BAAA3L,EAAA,+EAEEmK,EAAI1I,MAFN,cAEV2I,EAFU,gBAGEA,EAAIC,OAHN,OAGVa,EAHU,OAIdQ,EAAYR,GAJE,kDAMdxB,MAAK,MANS,0DAAH,qDAoCf,MAAO,CAAC/B,UAAS2B,aA3BC,uCAAG,WAAMhJ,GAAN,SAAAN,EAAA,+EAAY,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAgB,EAAA,+EAE1BmK,EAAIyB,QAAStL,GAFa,cAEtC8J,EAFsC,gBAG1BA,EAAIC,OAHsB,QAI1Ca,GADIA,EAHsC,QAIhC9G,KAAK,SAAAC,GAAE,OAAIiE,OAAO6C,OAAQ9G,EAAI,CAACf,MAAO,IAAIf,KAAM8B,EAAGf,OAAQO,IAAK,IAAItB,KAAM8B,EAAGR,WACnFuH,MAAM,SAACpL,EAAGqL,GAAJ,OAAUA,EAAE/H,MAAQtD,EAAEsD,SAC5BgI,EAAOJ,EAAIV,QAAQ,SAACC,EAAKC,GAE3B,OADA/B,GAAW8B,EAAK,OAAQxB,GAAeyB,EAAIpH,OAAQ,CAACyB,KAAM1C,GAAWqI,EAAIpH,SAAS0F,KAAM0B,GACjFD,IACN,IACH1L,EAASuM,GAViC,kDAY1CtM,EAAM,MAZoC,0DAAb,0DAAZ,2CAAH,sDA2Ba2M,YAAWxE,aAZxB,uCAAG,WAAOK,EAAOC,GAAd,SAAAzH,EAAA,+EAAuB,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,eAAAgB,EAAA,sEAEjD6L,EAA8B,KAAjBrE,EAAMuB,OAAP,YAA6BvB,GAAUA,EAFF,SAG/C2C,EAAIS,KAAM,CAACiB,YAAWpE,SAHyB,OAKrDiC,MAAK,gDAA2ClC,EAA3C,MACLzI,IANqD,gDAQrDC,EAAM,MAR+C,yDAAb,0DAAvB,2CAAH,yDCpCF8M,GACV5I,EClCO,SAAsB6I,GACnC,IAAMC,EAAiBlC,aAAaC,QAAS,6BAA+B,KADxB,EAEpB1G,mBAAUtB,KAAK8H,MAAOmC,IAFF,mBAE7C9I,EAF6C,KAEnC+I,EAFmC,KAcpD,OAJAxC,qBAAW,WACTK,aAAagB,QAAS,2BAA4B/I,KAAKC,UAAWkB,MACjE,CAACA,IAEG,CAACE,WAXW,SAAA2E,GACjB,OAAO7E,EAAU6E,IAUCE,OARL,SAAAF,GAAO,OAAI,SAAA5I,GACxBU,QAAQC,IAAR,+BAAqCiI,EAArC,iBAAqD7E,EAAU6E,GAA/D,gBAA+E7E,EAAU6E,KACzFkE,EAAW,2BAAM/I,GAAN,kBAAiB6E,GAAW7E,EAAS6E,SD0BjCmE,GALe,EE5BnB,SAAkBH,GAAiB,MAExB1I,mBAAU,MAFc,mBAEzC1C,EAFyC,KAEnCwL,EAFmC,OAG1B9I,mBAAU,MAHgB,mBAGzC5C,EAHyC,KAGpC2L,EAHoC,KAM1CxN,EAAK,uCAAG,WAAOC,EAAUgC,EAAIC,GAArB,SAAAd,EAAA,+EACL,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,SAAAgB,EAAA,+EAEVY,EAAY/B,EAAUgC,EAAIC,GAFhB,cAGhBjB,QAAQC,IAAK,wBAHG,SAIVT,IAJU,OAKhB8M,GAAS,GACTpN,IANgB,kDAQhBc,QAAQC,IAAK,iCACbd,EAAM,MATU,0DAAb,0DADK,2CAAH,0DAgBLqN,EAAe,uCAAG,sBAAArM,EAAA,+EAAY,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,SAAAgB,EAAA,+EAEvCZ,IAFuC,uBAGvCC,IAHuC,OAI7CN,IAJ6C,gDAM7CC,EAAM,MANuC,yDAAb,0DAAZ,2CAAH,qDAWfqJ,EAAM,uCAAG,sBAAArI,EAAA,+EAAY,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,SAAAgB,EAAA,+EAE9BD,IAF8B,OAGpCuM,OAAOC,SAASC,SAChBzN,IAJoC,gDAMpCC,EAAM,MAN8B,yDAAb,0DAAZ,2CAAH,qDAWNyN,EAAI,uCAAG,sBAAAzM,EAAA,sEAETH,QAAQC,IAAK,aAFJ,SAGHV,IAHG,uBAIHiN,IAJG,uBZGqB,IAAIvN,SAAS,SAACC,EAASC,GACzD,IACE,IAAKP,EAAa,KAAM,oCACxB,IAAKE,EAAc,KAAM,qCACzBF,EAAYiO,eAAgB/N,GAAc,SAAC8B,EAAKlB,GAC9C,GAAIkB,EAAK,OAAOzB,EAAQyB,GACxB/B,EAAca,EAAQC,iBAAkBC,cACxCd,EAAe,IAAIL,IAA2C,CAACoB,aAAcH,EAAQI,kBAAmBC,aACxGb,OAEF,MAAOI,GACPH,EAAQG,OYdG,OAMTgN,GAAS,GANA,kDAQTtM,QAAQC,IAAR,MACAqM,GAAS,GATA,0DAAH,qDAaJlM,EAAQ,uCAAG,WAAOf,EAAa2B,EAAIC,GAAxB,SAAAd,EAAA,+EAAuC,IAAIlB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,SAAAgB,EAAA,+EAE3D2M,EAAWzN,GAFgD,uBAG3DN,EAAOM,EAAa2B,EAAIC,GAHmC,OAIjEqL,GAAS,GAJwD,gDAMjEC,EAAM,MAN2D,yDAAb,0DAAvC,2CAAH,0DAkBd,OARA3C,qBAAW,WACL9I,GAAQoL,GAAiBA,MAC5B,CAACpL,IAEJ8I,qBAAW,WACTgD,MACC,IAEI,CAAC9L,OAAMF,MAAK7B,QAAOyJ,SAAQpI,YFxCM2M,EAAS,WAC/C1C,IACAe,IACAtD,EAAQgE,YAfU,WAAiB,IAAhBkB,EAAe,uDAAP,GAC7B/C,aAAagB,QAAS,kBAAmB,IACzClB,GAAQkD,SAAS,gBAAEjC,EAAF,EAAEA,OAAQ/I,EAAV,EAAUA,KAAV,OAAoB+K,EAAShC,GAAS/I,MAcrDiL,CAAe,CAAC,eAAgB/G,EAAa,eAAgB7C,OAJxDxC,EAPyB,EAOzBA,KAAM/B,EAPmB,EAOnBA,MAAOqB,EAPY,EAOZA,SAAUoI,EAPE,EAOFA,OAO1B2E,EAAc,IAAIC,gBAAiBX,OAAOC,SAASW,QAAQzL,IAAK,SAAW,QAd/C,EAeR4B,mBAAU2J,GAfF,mBAezBG,EAfyB,KAenBC,EAfmB,KAgB1BxF,EAAW,SAACyF,GAChB,IAAInC,EAAMmC,EAAIC,MAAO,KACjBC,EAAWrC,EAAInC,OAAS,EAAI,IAAIkE,gBAAJ,WAAyB/B,EAAK,KAAMzJ,IAAK,QAAU,QACnF5B,QAAQC,IAAKuN,EAAKE,GAClBjB,OAAOkB,QAAQC,UAAW,CAACC,SAAUP,EAAMQ,KAAMJ,GAAW,UAAWF,GACvED,EAASG,IArBqB,EAuBJlK,oBAAU,GAvBN,mBAuBzBuK,GAvByB,KAuBjBC,GAvBiB,KAwB1BzG,GAAS3D,mBACTqK,GAAUrK,mBAzBgB,GA0BJJ,oBAAU,SAAA0K,GAAC,OAAIlO,QAAQC,IAAKiO,MA1BxB,qBA0BzBzM,GA1ByB,MA0BjB0M,GA1BiB,MA2B1BC,GAAgB,SAAAC,GACpBL,IAAW,GACXG,IAAW,kBAAM,WAAOnO,QAAQC,IAAK,cAAeoO,EAASJ,GAAQ5J,QAAQqC,YA7B/C,GA+BAlD,oBAAU,GA/BV,qBA+BzB8K,GA/ByB,MA+BfC,GA/Be,MAgC1BtN,GAAa,WACjBsN,IAAa,IAETC,GAAe,uCAAG,8BAAArO,EAAA,sEAEhBsO,EAAMlH,GAAOlD,QAAQqC,MACrBrH,EAHgB,YAGGoP,EAAIC,WAAY,IAAK,KAHxB,SAIdtO,EAAUf,EAAa+O,GAAenN,IAJxB,8GAAH,qDASf0N,GAAY,uCAAG,8BAAAxO,EAAA,sEAEbsO,EAAMlH,GAAOlD,QAAQqC,MACrBrH,EAHa,YAGMoP,EAAIC,WAAY,IAAK,KAH3B,SAIX3P,EAAOM,EAAa+O,GAAenN,IAJxB,8GAAH,qDA5Cc,GAqDgBuC,mBAAU,QArD1B,qBAqDzBoL,GArDyB,MAqDPC,GArDO,MAsD1BzL,GAAS,WAEb,OADAyL,GAAqB,QACd,WAAsBA,GAAqB,UAEpD,OAAK/N,EA+BH,qCACE,qBAAKL,GAAG,oBAAoBmE,MAAO,CAACzB,QAASyL,MAC7C,iCACE,6BAAK9E,GAAQwD,OAEf,cAAC,EAAD,CAAOhK,YAAaA,EAAaD,SAAUA,EAAUvC,KAAMA,EAAMsC,OAAQA,GAAQD,QAAkB,UAATmK,EAAmB,OAAS,SACtH,cAAC,EAAD,CAAS3L,QAASA,EAASb,KAAMA,EAAMsC,OAAQA,GAAQD,QAAkB,YAATmK,EAAqB,OAAS,SAC9F,cAAC,EAAD,CAAQnH,YAAaA,EAAa/D,OAAQA,EAAQtB,KAAMA,EAAMqC,QAAkB,WAATmK,EAAoB,OAAS,SACpG,cAAC,EAAD,yBAAUvF,SAAUA,EAAU1E,SAAUA,GAAcyE,GAAtD,IAA+DU,OAAQA,EAAQ1H,KAAMA,EAAMsC,OAAQA,GAAQD,QAAkB,aAATmK,EAAsB,OAAS,OAAQ/E,QAASA,EAASD,SAAUA,KACvL,cAAC,GAAD,2BAAkBR,GAAlB,IAA2B3E,QAAkB,YAATmK,EAAqB,OAAS,OAAQ9D,QAAS,IAAI4D,gBAAiBX,OAAOC,SAASW,QAAQzL,IAAK,MAAOgG,KAAM,IAAIwF,gBAAiBX,OAAOC,SAASW,QAAQzL,IAAK,WACpM,8BACE,+BACE,uBACA,qBAAIkD,UAAoB,WAATwI,EAAoB,SAAW,GAAItI,QAAS,WAAO+C,EAAU,sCAA5E,UACE,qBAAK+G,IAAI,GAAG3H,MAAM,KAAKL,OAAO,KAAKG,IAAK8H,IACxC,8CAEF,qBAAIjK,UAAoB,UAATwI,EAAmB,SAAW,GAAItI,QAAS,WAAO+C,EAAU,qCAA3E,UACE,qBAAK+G,IAAI,GAAG3H,MAAM,KAAKL,OAAO,KAAKG,IAAK+H,IACxC,6CAEF,qBAAIlK,UAAoB,YAATwI,EAAqB,SAAW,GAAItI,QAAS,WAAO+C,EAAU,uCAA7E,UACE,qBAAK+G,IAAI,GAAG3H,MAAM,KAAKL,OAAO,KAAKG,IAAKgI,IACxC,+CAEF,qBAAInK,UAAoB,aAATwI,EAAsB,SAAW,GAAItI,QAAS,WAAO+C,EAAU,wCAA9E,UACE,qBAAK+G,IAAI,GAAG3H,MAAM,KAAKL,OAAO,KAAKG,IAAKiI,IACxC,gDAEF,+BA3DN,qCACE,qBAAKzO,GAAG,oBAAoBmE,MAAO,CAACzB,QAASyL,MAC7C,iCACE,mDAEF,iCACE,6BAAKN,GAAW,mBAAqB,yBACrC,qBAAKxJ,UAAU,qBAAf,SACE,uBAAO4C,KAAK,MAAMyH,YAAY,eAAetK,IAAK0C,GAAQ6H,WAAYrB,OAGtEA,IACA,qBAAKjJ,UAAU,qBAAf,SACE,uBAAOuK,aAAa,gBAAgBF,YAAY,cAActK,IAAKoJ,OAGvE,sBAAKnJ,UAAU,qBAAf,WAEKiJ,IACD,iCACE,wBAAQ/I,QAAS2J,GAAjB,4BACA,wBAAQ3J,QAASwJ,GAAjB,yBAGFT,IAAU,mCAAE,wBAAQ/I,QAASvD,GAAjB,iCG9GxBzB,QAAQsP,KAAO,aACftP,QAAQuP,MAAQ,aAEhB,IAAMjH,GAAW2B,aAAaC,QAAS,aACjC3B,GAAO,uCAAG,sBAAApI,EAAA,mEAERmI,GAFQ,iEAGNkH,UAAUC,cAAcrP,SAAU,iBAAkB,CAACsP,MAAO,cAHtD,OAIZzF,aAAagB,QAAS,YAAa,aACnCpB,MAAO,kCACP4C,OAAOC,SAASC,SANJ,kDAQZ9C,MAAK,MARO,0DAAH,qDAYb8F,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,CAAKtH,QAASA,GAASD,SAAUA,OAEnCwH,SAASC,eAAe,W","file":"static/js/main.f93aeec2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/skill.23054f65.svg\";","export default __webpack_public_path__ + \"static/media/plus.a86e5868.svg\";","export default __webpack_public_path__ + \"static/media/book.65cd22a3.svg\";","export default __webpack_public_path__ + \"static/media/settings.d2739024.svg\";","import {v4 as id} from 'uuid';\nimport * as AmazonCognitoIdentity from 'amazon-cognito-identity-js';\n\nconst poolDetails = {\n  AppClientId: '2ac3ij97dhtkag9fljdsuo1203',\n  IdentityPool:\t'us-east-1:de5287fc-3a2d-4cad-a685-b9d5bfe936e6',\n  PoolArm: 'arn:aws:cognito-idp:us-east-1:842200175734:userpool/us-east-1_tRcA2uwF6',\n  PoolId:\t'us-east-1_tRcA2uwF6'\n}\n\nlet authDetails = null;\nlet Pool = new AmazonCognitoIdentity.CognitoUserPool ({UserPoolId: poolDetails.PoolId, ClientId: poolDetails.AppClientId});\nlet cognitoUser = null;\nlet accessToken = null;\nlet refreshToken = null;\n\nexport const login = (Username) => new Promise ((resolve, reject) => {\n  try {\n    authDetails = new AmazonCognitoIdentity.AuthenticationDetails ({Username, ClientMetadata: {phoneNumber: Username}});\n    cognitoUser = new AmazonCognitoIdentity.CognitoUser ({Username, Pool});\n    resolve ();\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const getCurrentUser = () => new Promise ((resolve, reject) => {\n  try {\n    cognitoUser = Pool.getCurrentUser ();\n    resolve ();\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const retrieveAccessToken = () => new Promise ((resolve, reject) => {\n  try {\n    if (!cognitoUser) throw 'Cognito user must be defined to get access token';\n    cognitoUser.getSession ((e, session) => {\n      if (e) return reject (e);\n      accessToken = session.getAccessToken ().getJwtToken ();\n      refreshToken = new AmazonCognitoIdentity.CognitoRefreshToken ({RefreshToken: session.getRefreshToken ().getToken ()});\n      console.log ('access token retrieved');\n      resolve ();\n    });\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const refreshSession = () => new Promise ((resolve, reject) => {\n  try {\n    if (!cognitoUser) throw 'Cannot refresh empty cognito user';\n    if (!refreshToken) throw 'Cannot refresh empty refresh token';\n    cognitoUser.refreshSession (refreshToken, (err, session) => {\n      if (err) return reject (err);\n      accessToken = session.getAccessToken ().getJwtToken ();\n      refreshToken = new AmazonCognitoIdentity.CognitoRefreshToken ({RefreshToken: session.getRefreshToken ().getToken ()});\n      resolve ();\n    });\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const signOut = async () => new Promise (async (resolve, reject) => {\n  try {\n    await cognitoUser.signOut();\n    resolve ();\n  } catch (e) {\n    reject (e);\n  }\n});\n\nexport const register = async (phoneNumber) => new Promise (async (resolve, reject) => {\n  const attributePhoneNumber = new AmazonCognitoIdentity.CognitoUserAttribute ({Name: 'phone_number', Value: phoneNumber});\n  const customAttributeId = new AmazonCognitoIdentity.CognitoUserAttribute ({Name: 'custom:custom:id', Value: id ()})\n  const attributeList = [attributePhoneNumber, customAttributeId];\n  Pool.signUp (phoneNumber, id (), attributeList, null, (err, result) => {\n    if (err) return reject (err);\n    cognitoUser = result.user;\n    resolve ();\n  })\n});\n\nexport const customFlow = (phoneNumber, cb, onCodeSent) => new Promise (async (resolve, reject) => {\n  await login (phoneNumber);\n  cognitoUser.setAuthenticationFlowType ('CUSTOM_CHALLENGE');\n  console.log (cognitoUser, authDetails);\n  cognitoUser.initiateAuth (authDetails, {\n    onSuccess: r => resolve (r),\n    onFailure: e => reject (e),\n    customChallenge: function (challengeParameters) {\n      onCodeSent ();\n      cb (answer => cognitoUser.sendCustomChallengeAnswer (answer, this))\n    }\n  });\n});\n\nexport const entries = {\n  get get () {\n    return () => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/entries', {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get post () {\n    return body => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/entries', {\n      method: 'post',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken,\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify (body)\n    });\n  }\n}\nexport const skills = {\n  get get () {\n    return () => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/skills', {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get post () {\n    return body => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/skills', {\n      method: 'post',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken,\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify (body)\n    });\n  }\n}\n\nexport const shares = {\n  get get () {\n    return () => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/shares', {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get getById () {\n    return id => fetch (`https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/entries/${id}`, {\n      method: 'get',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken\n      })\n    });\n  },\n  get post () {\n    return body => fetch ('https://akqxdqgf7l.execute-api.us-east-1.amazonaws.com/Prod/shares', {\n      method: 'post',\n      headers: new Headers ({\n        'x-amz-access-token': accessToken,\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify (body)\n    });\n  }\n}","import { useRef, useState } from \"react\"\nimport { entries } from '../auth'\nimport useSettings from \"../hooks/useSettings\"\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\nconst days = [\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n]\nconst printDate = (d=new Date ()) => {\n  return  `${days [d.getDay ()]}, ${months [d.getMonth ()]} ${d.getDate ()}`\n}\nconst getTime = (d=new Date ()) => {  \n  return `${(d.getHours () % 12 || 12)}:${`0${d.getMinutes ()}`.slice(-2)} ${d.getHours () > 11 ? 'pm' : 'am'}`;\n}\n\nfunction Write ({display, freeze, settings, createEntry}) {\n  const {getSetting} = settings;\n  const [start, setStart] = useState (new Date ());\n  const qaRef = useRef ();\n  const ffRef = useRef ();\n  const complete = async () => {\n    let unfreeze = freeze ();\n    let body = {start, end: new Date (), entryType: getSetting ('freeform') ? 'freeform' : 'questions'};\n    try {\n      if (body.entryType === 'questions') {\n        body.questions = Array.from (qaRef.current.querySelectorAll ('b')).map (el => el.innerText);\n        body.answers = Array.from (qaRef.current.querySelectorAll ('div')).map (el => el.innerText);\n      } else {\n        body.freeform = ffRef.current.innerText;\n      }\n      await createEntry (body);\n      setStart (new Date ());\n      if (body.entryType !== 'freeform') Array.from (qaRef.current.querySelectorAll ('div')).map (el => el.innerText = '...');\n      if (body.entryType === 'freeform') ffRef.current.innerText = 'Write your entry here!';\n      unfreeze ();\n    } catch (e) {\n      if (body.entryType !== 'freeform') Array.from (qaRef.current.querySelectorAll ('div')).map (el => el.innerText = '...');\n      if (body.entryType === 'freeform') ffRef.current.innerText = 'Write your entry here!';\n      unfreeze ();\n    }\n  }\n  return (\n    <main style={{display}}>\n      <h2>{printDate ()}</h2>\n      <h3>{getTime (start)}</h3>\n      {\n        !getSetting ('freeform') &&\n        <div ref={qaRef} className=\"questions\">\n          <b>What have I done today?</b>\n          <div contentEditable>...</div>\n          <b>How do I feel?</b>\n          <div contentEditable>...</div>\n          <b>What else am I going to do?</b>\n          <div contentEditable>...</div>\n        </div>\n      }\n      {\n        getSetting ('freeform') &&\n        <div contentEditable ref={ffRef}>Write your entry here!</div>\n      }\n      <button onClick={complete}>Complete</button>\n    </main>\n  )\n}\n\nexport default Write","import { useState } from 'react'\n\nconst getTime = (d=new Date ()) => {  \n  return `${(d.getHours () % 12 || 12)}:${`0${d.getMinutes ()}`.slice(-2)} ${d.getHours () > 11 ? 'pm' : 'am'}`;\n}\n\nconst EntryHeader = ({date, isOpen, open, close}) => {\n  return isOpen ? (\n    <header className=\"entry-header\">\n      <span onClick={close}>x</span>\n      <h2>{date}</h2>\n    </header>\n  ) : (\n    <header className=\"entry-header\">\n      <span onClick={open}>more</span>\n      <h2>{date}</h2>\n    </header>\n  )\n}\n\nconst EntryContents = ({entries, open}) => entries.map (entry => {\n  return open ? (\n    <section key={`entry-${entry.id}`}>\n      <h3>{getTime (entry.start)}</h3>\n      {\n        entry.entryType !== 'freeform' &&\n        entry.questions.map ((q, i) => (\n          <section>\n            <p>\n              <b>{q} </b>\n              {entry.answers [i]}\n            </p>\n          </section>\n        ))\n      }\n      {\n        entry.entryType === 'freeform' &&\n        <section>\n          <p>{entry.freeform}</p>\n        </section>\n      }\n    </section>\n  ) : (<div></div>)\n})\n\n\nfunction Journal({display, entries, isNotMain}) {\n  const [open, setOpen] = useState ([]);\n\n  return isNotMain ?\n  (\n    <>\n      {entries.map (index => (\n        <article key={`index-${index.date}`}>\n          <EntryHeader date={index.meta.date} isOpen={open.indexOf (index.date) !== -1} open={() => {setOpen (open => [...open, index.date])}} close={() => {\n            setOpen (open => open.filter (d => d !== index.date))\n          }} index={index} />\n          <EntryContents open={open.indexOf (index.date) !== -1} entries={index.list} />\n        </article>\n      ))}\n    </>\n  )\n  :\n  (\n    <main style={{display}}>\n      {entries.map (index => (\n        <article key={`index-${index.date}`}>\n          <EntryHeader date={index.meta.date} isOpen={open.indexOf (index.date) !== -1} open={() => {setOpen (open => [...open, index.date])}} close={() => {\n            setOpen (open => open.filter (d => d !== index.date))\n          }} index={index} />\n          <EntryContents open={open.indexOf (index.date) !== -1} entries={index.list} />\n        </article>\n      ))}\n    </main>\n  )\n}\n\nexport default Journal\n","export default __webpack_public_path__ + \"static/media/pen.27ec406e.svg\";","import React, { useEffect, useRef, useState } from 'react'\nimport Pen from '../img/pen.svg'\n\nfunction Skills ({display, skills, submitSkill}) {\n  const [mode, setMode] = useState ('reference');\n  const catRef = useRef ();\n  const sklRef = useRef ();\n  const openEditor = () => {\n    setMode ('edit');\n  }\n  const onSubmitSkill = async () => {\n    try {\n      await submitSkill ({category: catRef.current.value, skill: sklRef.current.innerText})\n    } catch (e) {\n\n    }\n    setMode ('reference');\n  }\n  return (\n    <>\n      <datalist id=\"skills-categories\">\n        {\n          skills.map (category => (\n            <option>{category.meta.category}</option>\n          ))\n        }\n      </datalist>\n      <main style={{display: mode === 'edit' ? display : 'none'}}>\n        <h2>New Skill</h2>\n        <div>Category: <input list=\"skills-categories\" ref={catRef} defaultValue=\"Tools For\"/></div>\n        <div>Skill: <p style={{padding: 7.5}} ref={sklRef} contentEditable>...</p></div>\n        <div>\n          <button onClick={onSubmitSkill}>Add Skill</button>\n          <button onClick={()=>{setMode ('reference')}}>Cancel</button>\n        </div>\n      </main>\n      <main style={{display: mode === 'reference' ? display : 'none'}}>\n        <span onClick={openEditor} style={{height: 64, display: 'grid', alignItems: 'center',justifyContent: 'center'}}><img src={Pen} width={24} height={24}/></span>\n        {\n          skills.map (category => (\n            <section>\n              <h2>{category.meta.category}</h2>\n              <ul>\n                {\n                  category.list.map (skill => (\n                    <li>{skill.skill}</li>\n                  ))\n                }\n              </ul>\n            </section>\n          ))\n        }\n      </main>\n    </>\n  )\n}\n\nexport default Skills\n","import { useRef } from \"react\";\n\nconst attributions = {\n  'calendar.svg': '<div>Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>',\n  'pen.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/icongeek26\" title=\"Icongeek26\">Icongeek26</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'book.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/zlatko-najdenovski\" title=\"Zlatko Najdenovski\">Zlatko Najdenovski</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'plus.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'list.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/phatplus\" title=\"phatplus\">phatplus</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'skill.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>',\n  'settings.svg': 'Icons made by <a href=\"https://www.flaticon.com/authors/srip\" title=\"srip\">srip</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>'\n}\n\nfunction ShareJourunal ({shareJournal}) {\n  const numRef = useRef ();\n  const nameRef = useRef ();\n  const onClick = () => {\n    let phone = numRef.current.value;\n    let name = nameRef.current.value;\n    shareJournal (phone, name);\n    numRef.current.value = '';\n  }\n  return (\n    <div className=\"action\">\n      <p style={{textDecoration: 'none'}}>Share Your Journal With</p>\n      <input type=\"tel\" ref={numRef} />\n      <p style={{textDecoration: 'none'}}>Your Name</p>\n      <input ref={nameRef} />\n      <br />\n      <span onClick={onClick}>Submit</span>\n    </div>\n  )\n}\n\nfunction SharedWithMe ({sharing, redirect}) {\n  return (\n    <div className=\"action\">\n      <p style={{textDecoration: 'none'}}>Journals Shared With You</p>\n      <p style={{textDecoration: 'none'}}>Click To View</p>\n      <hr style={{width: '45vw'}}/>\n      {\n        sharing.map (share => (\n          <span onClick={() => {redirect (`http://localhost:3000?page=sharing&id=${share.id}&name=${share.name}`)}}>{share.name}</span>\n        ))\n      }\n    </div>\n  )\n}\n\nfunction Setting ({setting, title, toggle, getSetting}) {\n  return (\n    <div className=\"setting\">\n      <div>{title}</div>\n      <div><span onClick={toggle (setting)} className={getSetting (setting) ? 'toggle on' : 'toggle'} /></div>\n    </div>\n  )\n}\n\nfunction Settings({settings, swStatus, install, display, logout, shareJournal, sharing, redirect}) {\n  return (\n    <main className=\"settings\" style={{display}}>\n      <Setting setting=\"freeform\" title=\"Enable Freeform\" {...settings} />\n      {!swStatus && \n        <div className=\"action\">\n          <span onClick={install}>Install!</span>\n        </div>\n      }\n      <ShareJourunal shareJournal={shareJournal} />\n      <SharedWithMe sharing={sharing} redirect={redirect} />\n      <div className=\"action\">\n        <span onClick={logout}>Log Out</span>\n      </div>\n      <section id=\"attributions\">\n        <h2>Attributions</h2>\n        <ul>\n          {Object.keys (attributions).map (k => (\n            <li key={`attribiution-${k}`} dangerouslySetInnerHTML={{__html: attributions [k]}}></li>\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Settings\n","import {useState} from 'react';\nimport {skills as api} from '../auth';\n\nconst findIndex = (indexedArr, key, value, meta={}) => {\n  let found = indexedArr.filter (el => el [key] === value)\n  if (found.length > 0) return found [0].list;\n  let index = {[key]: value, meta, list: []};\n  indexedArr.push (index);\n  return index.list;\n}\n\nexport default function useSkills () {\n\n  const [skills, setSkills] = useState ([]);\n  const getSkills = async () => {\n    try {\n      let req = await api.get ();\n      let data = await req.json ();\n      let indexed = data.reduce ((acc, val) => {\n        findIndex (acc, 'category', val.category, {category: val.category}).push (val);\n        return acc;\n      }, []);\n      setSkills (indexed);\n    } catch (e) {\n      alert (e);\n    }\n  }\n  const submitSkill = (body) => new Promise (async (resolve, reject) => {\n    try {\n      setSkills (skls => {\n        let idx = findIndex (skls, 'category', body.category, {category: body.category});\n        idx.push (body);\n        return skls;\n      })\n      await api.post (body);\n      resolve ();\n    } catch (e) {\n      let pending = JSON.parse (localStorage.getItem ('pending-actions') || '[]');\n      pending.push ({\n        action: 'submit-skill',\n        body\n      });\n      localStorage.setItem ('pending-actions', JSON.stringify (pending));\n      reject (e);\n    }\n  })\n\n  return {skills, getSkills, submitSkill}\n\n}","import {useState} from 'react';\nimport {entries as api} from '../auth';\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\nconst days = [\n  \"Sunday\",\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n]\n\nconst dateShortHand = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return `${d.getMonth ()}-${d.getDate ()}-${d.getFullYear ()}`.toString ();\n}\nconst printDate = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return  `${days [d.getDay ()]}, ${months [d.getMonth ()]} ${d.getDate ()}`;\n}\n\nconst findIndex = (indexedArr=[], key, value, meta={}) => {\n  let found = indexedArr.filter (el => el [key] === value)\n  if (found.length > 0) return found [0].list;\n  let index = {[key]: value, meta, list: []};\n  indexedArr.push (index);\n  return index.list;\n}\n\nexport default function useJournal () {\n\n  const [entries, setEntries] = useState ([]);\n  const getEntries = async () => {\n    try {\n      let req = await api.get ();\n      let arr = await req.json ();\n      arr = arr.map (el => Object.assign (el, {start: new Date (el.start), end: new Date (el.end)}));\n      arr.sort ((a, b) => b.start - a.start);\n      let dict = arr.reduce ((acc, val) => {\n        findIndex (acc, 'date', dateShortHand (val.start), {date: printDate (val.start)}).push (val);\n        return acc;\n      }, []);\n      setEntries (dict);\n    } catch (e) {\n      alert (e);\n    }\n  }\n  const createEntry = async body => new Promise (async (resolve, reject) => {\n    try {\n      let dsh = dateShortHand (body.start);\n      if (entries [0].date === dsh) {\n        console.log ('adding entry at existing index');\n        entries [0].list.splice (0, 0, body);\n      } else {\n        console.log ('adding entry at new index');\n        entries.splice (0, 0, {'date': dsh, date: printDate (body.start), list: [body]});\n      }\n      console.log (entries);\n      setEntries (entries);\n      await api.post (body);\n      resolve ();\n    } catch (e) {\n      let pending = JSON.parse (localStorage.getItem ('pending-actions') || '[]');\n      pending.push ({\n        action: 'create-entry',\n        body\n      });\n      localStorage.setItem ('pending-actions', JSON.stringify (pending));\n      reject (e);\n    }\n  })\n\n  return {entries, getEntries, createEntry};\n\n}","import { useEffect, useState } from \"react\";\nimport Journal from \"./Journal\";\n\nfunction SharedWithMe ({shareId, name, display, getShareById}) {\n  const [journal, setJournal] = useState ([]);\n  useEffect (() => {\n    if (!shareId) return;\n    (async () => {\n      try {\n        setJournal (await getShareById (shareId));\n      } catch (e) {\n        alert (e);\n      }\n    }) ();\n  }, [shareId]);\n  return (\n    <>\n      <main style={{display}}>\n        <h2>Journal Of {name}</h2>\n        <Journal isNotMain display={display} entries={journal} />\n      </main>\n    </>\n  )\n}\n\nexport default SharedWithMe ","import {useState} from 'react';\nimport {shares as api} from '../auth';\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\nconst days = [\n  \"Sunday\",\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n]\n\nconst dateShortHand = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return `${d.getMonth ()}-${d.getDate ()}-${d.getFullYear ()}`.toString ();\n}\nconst printDate = (_d=new Date ()) => {\n  let d = new Date (_d);\n  return  `${days [d.getDay ()]}, ${months [d.getMonth ()]} ${d.getDate ()}`;\n}\n\nconst findIndex = (indexedArr=[], key, value, meta={}) => {\n  let found = indexedArr.filter (el => el [key] === value)\n  if (found.length > 0) return found [0].list;\n  let index = {[key]: value, meta, list: []};\n  indexedArr.push (index);\n  return index.list;\n}\n\nexport default function useSharing () {\n\n  const [sharing, setSharing] = useState ([]);\n  const getShares = async () => {\n    try {\n      let req = await api.get ();\n      let arr = await req.json ();\n      setSharing (arr);\n    } catch (e) {\n      alert (e);\n    }\n  }\n  const getShareById = async id => new Promise (async (resolve, reject) => {\n    try {\n      let req = await api.getById (id);\n      let arr = await req.json ();\n      arr = arr.map (el => Object.assign (el, {start: new Date (el.start), end: new Date (el.end)}));\n      arr.sort ((a, b) => b.start - a.start);\n      let dict = arr.reduce ((acc, val) => {\n        findIndex (acc, 'date', dateShortHand (val.start), {date: printDate (val.start)}).push (val);\n        return acc;\n      }, []);\n      resolve (dict);\n    } catch (e) {\n      reject (e);\n    }\n  })\n  const shareJournal = async (phone, name) => new Promise (async (resolve, reject) => {\n    try {\n      let shareWith = (phone.length === 10) ? `+1${phone}` : phone;\n      await api.post ({shareWith, name});\n\n      alert (`Successfully shared your journal with ${phone}!`);\n      resolve ();\n    } catch (e) {\n      reject (e);\n    }\n  })\n\n  return {sharing, getShareById, getShares, shareJournal};\n\n}","import NavSkills from './img/skill.svg'\nimport NavPlus from './img/plus.svg'\nimport NavBook from './img/book.svg'\nimport NavSettings from './img/settings.svg'\nimport { useState, useRef } from 'react'\nimport useAuth from './hooks/useAuth';\nimport Write from './pages/Write'\nimport Journal from './pages/Journal'\nimport Skills from './pages/Skills'\nimport Settings from './pages/Settings'\nimport useSettings from './hooks/useSettings';\nimport useSkills from './hooks/useSkills';\nimport useJournal from './hooks/useJournal';\nimport './App.css';\nimport SharedWithMe from './pages/SharedWithMe'\nimport useSharing from './hooks/useSharing'\n\nconst titles = {\n  'write': 'Check In',\n  'journal': 'Therapy Journal',\n  'settings': 'Customize',\n  'skills': 'Coping Skills'\n}\n\n// pending actions\nlet pending = JSON.parse (localStorage.getItem ('pending-actions') || '[]');\nconst handlePending = (actions={}) => {\n  localStorage.setItem ('pending-actions', []);\n  pending.forEach (({action, body}) => actions [action] (body));\n}\n\nfunction App({install, swStatus}) {\n  // api\n  const {skills, getSkills, submitSkill} = useSkills ();\n  const {entries, getEntries, createEntry} = useJournal ();\n  const sharing = useSharing ();\n  const settings = useSettings ();\n\n  const {user, login, register, logout} = useAuth (() => {\n    getSkills ();\n    getEntries ();\n    sharing.getShares ();\n    handlePending ({'submit-skill': submitSkill, 'create-entry': createEntry});\n  });\n  \n  let initialPage = new URLSearchParams (window.location.search).get ('page') || 'write';\n  const [page, setPage] = useState (initialPage);\n  const redirect = (url) => {\n    let arr = url.split ('?');\n    let nextPage = arr.length > 1 ? new URLSearchParams (`?${arr [1]}`).get ('page') : 'write';\n    console.log (url, nextPage);\n    window.history.pushState ({previous: page, next: nextPage}, 'Journal', url)\n    setPage (nextPage);\n  }\n  const [prompt, setPrompt] = useState (false);\n  const numRef = useRef ();\n  const codeRef = useRef ();\n  const [answer, setAnswer] = useState (v => console.log (v));\n  const promptForCode = _answer => {\n    setPrompt (true);\n    setAnswer (() => () => {console.log ('answering!'); _answer (codeRef.current.value)});\n  }\n  const [codeSent, setCodeSent] = useState (false);\n  const onCodeSent = () => {\n    setCodeSent (true);\n  }\n  const onRegisterClick = async () => {\n    try {\n      let raw = numRef.current.value;\n      let phoneNumber = `+1${raw.replaceAll ('-', '')}`;\n      await register (phoneNumber, promptForCode, onCodeSent);\n    } catch (e) {\n\n    }\n  }\n  const onLogInClick = async () => {\n    try {\n      let raw = numRef.current.value;\n      let phoneNumber = `+1${raw.replaceAll ('-', '')}`;\n      await login (phoneNumber, promptForCode, onCodeSent);\n    } catch (e) {\n    }\n  }\n  // loading animation\n  const [loadingAnimation, setLoadingAnimation] = useState ('none');\n  const freeze = () => {\n    setLoadingAnimation ('grid');\n    return function unfreeze () {setLoadingAnimation ('none')}\n  }\n  if (!user) return (\n    <>\n      <div id=\"loading-animation\" style={{display: loadingAnimation}}></div>\n      <header>\n        <h1>Therapy Journal</h1>\n      </header>\n      <main>\n        <h2>{codeSent ? 'code is sending!' : 'can i get ur number?'}</h2>\n        <div className=\"phone-number-input\">\n          <input type=\"tel\" placeholder=\"123-456-7890\" ref={numRef} disabled={!!prompt} />\n        </div>\n        {\n          prompt &&\n          <div className=\"phone-number-input\">\n            <input autoComplete=\"one-time-code\" placeholder=\"Secret Code\" ref={codeRef} />\n          </div>\n        }\n        <div className=\"phone-number-input\">\n          { \n            !prompt &&\n            <span>\n              <button onClick={onLogInClick}>Get Login Code</button>\n              <button onClick={onRegisterClick}>Register</button>\n            </span>\n          }\n          { prompt && <><button onClick={answer}>Submit!</button></> }\n        </div>\n      </main>\n    </>\n  );\n  return (\n    <>\n      <div id=\"loading-animation\" style={{display: loadingAnimation}}></div>\n      <header>\n        <h1>{titles [page]}</h1>\n      </header>\n      <Write createEntry={createEntry} settings={settings} user={user} freeze={freeze} display={page === 'write' ? 'grid' : 'none'} />\n      <Journal entries={entries} user={user} freeze={freeze} display={page === 'journal' ? 'grid' : 'none'} />\n      <Skills submitSkill={submitSkill} skills={skills} user={user} display={page === 'skills' ? 'grid' : 'none'} />\n      <Settings redirect={redirect} settings={settings} {...sharing} logout={logout} user={user} freeze={freeze} display={page === 'settings' ? 'grid' : 'none'} install={install} swStatus={swStatus} />\n      <SharedWithMe {...sharing} display={page === 'sharing' ? 'grid' : 'none'} shareId={new URLSearchParams (window.location.search).get ('id')} name={new URLSearchParams (window.location.search).get ('name')}/>\n      <nav>\n        <ul>\n          <li></li>\n          <li className={page === 'skills' ? 'active' : ''} onClick={() => {redirect ('http://localhost:3000?page=skills')}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavSkills} />\n            <label>Skills</label>\n          </li>\n          <li className={page === 'write' ? 'active' : ''} onClick={() => {redirect ('http://localhost:3000?page=write')}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavPlus} />\n            <label>Write</label>\n          </li>\n          <li className={page === 'journal' ? 'active' : ''} onClick={() => {redirect ('http://localhost:3000?page=journal')}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavBook} />\n            <label>Journal</label>\n          </li>\n          <li className={page === 'settings' ? 'active' : ''} onClick={() => {redirect ('http://localhost:3000?page=settings')}}>\n            <img alt=\"\" width=\"32\" height=\"32\" src={NavSettings} />\n            <label>Settings</label>\n          </li>\n          <li></li>\n        </ul>\n      </nav>\n    </>\n  );\n}\n\nexport default App;\n","import {useState, useEffect} from 'react';\n\nexport default function useSettings (onSessionActive) {\n  const storedSettings = localStorage.getItem ('therapy-journal-settings') || '{}';\n  const [settings, setSettings] = useState (JSON.parse (storedSettings));\n  const getSetting = setting => {\n    return settings [setting];\n  }\n  const toggle = setting => e => {\n    console.log (`Changing setting for ${setting} from ${settings [setting]} to ${!settings [setting]}`);\n    setSettings ({...settings, [setting]: !settings[setting]})\n  }\n  useEffect (() => {\n    localStorage.setItem ('therapy-journal-settings', JSON.stringify (settings));\n  }, [settings]);\n\n  return {getSetting, toggle}\n}","import {useState, useEffect} from 'react';\nimport {login as _login, register as _register, getCurrentUser, retrieveAccessToken, refreshSession, signOut, customFlow} from '../auth';\n\nexport default function useAuth (onSessionActive) {\n  // data\n  const [user, setUser] = useState (null);\n  const [err, setErr] = useState (null);\n\n  // login method - gets jwt from cognito and accuires barista session from api\n  const login = async (Username, cb, onCodeSent) => {\n    return new Promise (async (resolve, reject) => {\n      try {\n        await customFlow (Username, cb, onCodeSent);\n        console.log ('custom flow complete');\n        await retrieveAccessToken ();\n        setUser (true);\n        resolve ();\n      } catch (e) {\n        console.log ('custom flow complete - on err');\n        reject (e);\n      }\n    })\n  }\n\n  // retrieve locally stored user\n  const retrieveSession = async () => new Promise (async (resolve, reject) => {\n    try {\n      await getCurrentUser ();\n      await retrieveAccessToken ();\n      resolve ();\n    } catch (e) {\n      reject (e);\n    }\n  });\n\n  // logout logs out locally\n  const logout = async () => new Promise (async (resolve, reject) => {\n    try {\n      await signOut ();\n      window.location.reload ();\n      resolve ();\n    } catch (e) {\n      reject (e);\n    }\n  })\n  \n  // init\n  const init = async () => {\n    try {\n      console.log ('init auth')\n      await getCurrentUser ();\n      await retrieveSession ();\n      await refreshSession ();\n      setUser (true);\n    } catch (e) {\n      console.log (e);\n      setUser (false);\n    }\n  }\n\n  const register = async (phoneNumber, cb, onCodeSent) => new Promise (async (resolve, reject) => {\n    try {\n      await _register (phoneNumber);\n      await login (phoneNumber, cb, onCodeSent);\n      setUser (true);\n    } catch (e) {\n      setErr (e);\n    }\n  });\n\n  useEffect (() => {\n    if (user && onSessionActive) onSessionActive ();\n  }, [user]);\n\n  useEffect (() => {\n    init ();\n  }, []);\n\n  return {user, err, login, logout, register};\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nconsole.warn = () => {}\nconsole.error = () => {}\n// import reportWebVitals from './reportWebVitals';\nconst swStatus = localStorage.getItem ('sw-status');\nconst install = async () => {\n  try {\n    if (swStatus) return;\n    await navigator.serviceWorker.register ('/journal/sw.js', {scope: '/journal/'});\n    localStorage.setItem ('sw-status', 'installed')\n    alert ('Therapy Journal has installed!');\n    window.location.reload ();\n  } catch (e) {\n    alert (e);\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App install={install} swStatus={swStatus} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}